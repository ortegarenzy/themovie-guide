
/*
 * This file is part of Jkop
 * Copyright (c) 2016-2018 Job and Esther Technologies Oy
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

"use strict";var CapeLoggingContext = {};CapeLoggingContext.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLoggingContext"] === true);};var CapeObjectWithSize = {};CapeObjectWithSize.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeObjectWithSize"] === true);};var CapeArrayObject = {};CapeArrayObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeArrayObject"] === true);};var CapeBase64Decoder = function() {};var P = CapeBase64Decoder.prototype;P._t = {"CapeBase64Decoder" : true};CapeBase64Decoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBase64Decoder"] === true);};CapeBase64Decoder.NEW = function() {var v = new CapeBase64Decoder();return(v.CTOR());};P.CTOR = function() {return(this);};CapeBase64Decoder.appendByte = function(buffer, _byte) {var nbyte = CapeBuffer.allocate(1);CapeBuffer.setByte(nbyte, 0, _byte);return(CapeBuffer.append(buffer, nbyte, CapeBuffer.getSize(nbyte)));};CapeBase64Decoder.fromLookupChar = function(ascii) {var c = 0;if(ascii === 43) {c = 62;}else if(ascii === 47) {c = 63;}else if(ascii.charCodeAt() >= 48 && ascii.charCodeAt() <= 57) {c = (ascii.charCodeAt() + 4);}else if(ascii.charCodeAt() >= 65 && ascii.charCodeAt() <= 90) {c = (ascii.charCodeAt() - 65);}else if(ascii.charCodeAt() >= 97 && ascii.charCodeAt() <= 122) {c = (ascii.charCodeAt() - 71);}return(c);};CapeBase64Decoder.decode = function(text) {if(text == null) {return(null);}var data = new ArrayBuffer(0);var iter = CapeString.iterate(text);var done = false;if(iter != null) {var ch = String.fromCharCode(0);while((ch = iter.getNextChar()).charCodeAt() > 0) {var c1 = 0;var c2 = 0;var c3 = 0;var c4 = 0;var byte1 = 0;var byte2 = 0;var byte3 = 0;c1 = CapeBase64Decoder.fromLookupChar(ch);c2 = CapeBase64Decoder.fromLookupChar(ch = iter.getNextChar());byte1 = ((c1 << 2) + (c2 >> 4));data = CapeBase64Decoder.appendByte(data, byte1);ch = iter.getNextChar();if(ch === '=') {done = true;}else {c3 = CapeBase64Decoder.fromLookupChar(ch);}byte2 = ((c2 & 15) << 4) + (c3 >> 2);data = CapeBase64Decoder.appendByte(data, byte2);if(!done) {ch = iter.getNextChar();if(ch === '=') {done = true;}else {c4 = CapeBase64Decoder.fromLookupChar(ch);}byte3 = ((c3 & 3) << 6) + c4;data = CapeBase64Decoder.appendByte(data, byte3);}if(done) {break;}}}return(data);};var CapeBase64Encoder = function() {};var P = CapeBase64Encoder.prototype;P._t = {"CapeBase64Encoder" : true};CapeBase64Encoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBase64Encoder"] === true);};CapeBase64Encoder.NEW = function() {var v = new CapeBase64Encoder();return(v.CTOR());};P.CTOR = function() {return(this);};CapeBase64Encoder.encodeString = function(str) {if(!(str != null)) {return(null);}return(CapeBase64Encoder.encode(CapeString.toUTF8Buffer(str)));};CapeBase64Encoder.encode = function(buffer) {if(!(buffer != null)) {return(null);}var sb = CapeStringBuilder.NEW();var i = 0;var b64i = 0;var size = CapeBuffer.getSize(buffer);while(i < size) {b64i = (CapeBuffer.getByte(buffer, i) >> 2);sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));b64i = ((CapeBuffer.getByte(buffer, i) & 3) << 4);if(i + 1 < size) {b64i += (CapeBuffer.getByte(buffer, i + 1) >> 4);sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));b64i = ((CapeBuffer.getByte(buffer, i + 1) & 15) << 2);if(i + 2 < size) {b64i += (CapeBuffer.getByte(buffer, i + 2) >> 6);sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));b64i = (CapeBuffer.getByte(buffer, i + 2) & 63);sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));}else {sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));sb.appendString("=");}}else {sb.appendCharacter(CapeBase64Encoder.toASCIIChar(b64i));sb.appendString("==");}i += 3;}if(sb != null) {return(sb.toString());}return(null);};CapeBase64Encoder.toASCIIChar = function(lookup) {var c = 0;if(lookup < 0 || lookup > 63) {return(String.fromCharCode(c));}if(lookup <= 25) {c = lookup + 65;}else if(lookup <= 51) {c = lookup + 71;}else if(lookup <= 61) {c = lookup - 4;}else if(lookup === 62) {c = '+'.charCodeAt();}else if(lookup === 63) {c = '/'.charCodeAt();}return(String.fromCharCode(c));};var CapeClosable = {};CapeClosable.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeClosable"] === true);};var CapeBooleanObject = {};CapeBooleanObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBooleanObject"] === true);};var CapeBooleanIterator = {};CapeBooleanIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBooleanIterator"] === true);};var CapeBoolean = function() {this.value = null;};var P = CapeBoolean.prototype;P._t = {"CapeBoolean" : true,"CapeBooleanObject" : true};CapeBoolean.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBoolean"] === true);};CapeBoolean.NEW = function() {var v = new CapeBoolean();return(v.CTOR());};P.CTOR = function() {this.value = false;return(this);};CapeBoolean.asObject = function(value) {var v = CapeBoolean.NEW();v.setValue(value);return(v);};CapeBoolean.asBoolean = function(obj) {if(obj == null) {return(false);}if(CapeBooleanObject.IS_INSTANCE(obj)) {return(obj.toBoolean());}if(CapeIntegerObject.IS_INSTANCE(obj)) {if(obj.toInteger() === 0) {return(false);}return(true);}if(typeof(obj) === 'string') {var str = CapeString.toLowerCase(obj);if(str === "yes" || str === "true" || str === "1") {return(true);}return(false);}if(CapeStringObject.IS_INSTANCE(obj)) {var str = obj.toString();if(!(str == null)) {str = CapeString.toLowerCase(str);if(str === "yes" || str === "true" || str === "1") {return(true);}}return(false);}if(CapeDoubleObject.IS_INSTANCE(obj)) {if(obj.toDouble() === 0.0) {return(false);}return(true);}if(CapeCharacterObject.IS_INSTANCE(obj)) {if(obj.toCharacter().charCodeAt() === 0) {return(false);}return(true);}if(CapeObjectWithSize.IS_INSTANCE(obj)) {var sz = obj.getSize();if(sz === 0) {return(false);}return(true);}return(false);};P.toBoolean = function() {return(this.value);};P.getValue = function() {return(this.value);};P.setValue = function(v) {this.value = v;return(this);};var CapeBufferObject = {};CapeBufferObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBufferObject"] === true);};var CapeBufferDataReceiver = {};CapeBufferDataReceiver.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBufferDataReceiver"] === true);};var CapeBuffer = function() {};var P = CapeBuffer.prototype;P._t = {"CapeBuffer" : true};CapeBuffer.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBuffer"] === true);};CapeBuffer.NEW = function() {var v = new CapeBuffer();return(v.CTOR());};P.CTOR = function() {return(this);};CapeBuffer.asObject = function(buffer) {var v = CapeBuffer.MyBufferObject.NEW();v.setBuffer(buffer);return(v);};CapeBuffer.asBuffer = function(obj) {if(!(obj != null)) {return(null);}if(obj instanceof ArrayBuffer) {return(obj);}if(CapeBufferObject.IS_INSTANCE(obj)) {return(obj.toBuffer());}return(null);};CapeBuffer.forInt8Array = function(buf) {return(null);};CapeBuffer.toInt8Array = function(buf) {return(null);};CapeBuffer.getSubBuffer = function(buffer, offset, size, alwaysNewBuffer) {if(alwaysNewBuffer === false && offset === 0 && size < 0) {return(buffer);}var bsz = CapeBuffer.getSize(buffer);var sz = size;if(sz < 0) {sz = bsz - offset;}if(alwaysNewBuffer === false && offset === 0 && sz === bsz) {return(buffer);}if(sz < 1) {return(null);}var v = new ArrayBuffer(sz);CapeBuffer.copyFrom(v, buffer, offset, 0, sz);return(v);};CapeBuffer.getInt8 = function(buffer, offset) {return(new Uint8Array(buffer)[offset]);};CapeBuffer.copyFrom = function(array, src, soffset, doffset, size) {var suint = new Uint8Array(src);var sz = size;if((soffset + size) > suint.byteLength) {sz = suint.byteLength - soffset;}var arrayToCopy = suint.subarray(soffset, sz);var duint = new Uint8Array(array);duint.set(arrayToCopy, doffset);};CapeBuffer.getInt16LE = function(buffer, offset) {console.log("[cape.Buffer.getInt16LE] (Buffer.sling:223:2): Not implemented");return(0);};CapeBuffer.getInt16BE = function(buffer, offset) {console.log("[cape.Buffer.getInt16BE] (Buffer.sling:249:2): Not implemented");return(0);};CapeBuffer.getInt32LE = function(buffer, offset) {console.log("[cape.Buffer.getInt32LE] (Buffer.sling:275:2): Not implemented");return(0);};CapeBuffer.getInt32BE = function(buffer, offset) {console.log("[cape.Buffer.getInt32BE] (Buffer.sling:301:2): Not implemented");return(0);};CapeBuffer.getSize = function(buffer) {if(buffer == null) {return(0);}return(buffer.byteLength);};CapeBuffer.getByte = function(buffer, offset) {return(CapeBuffer.getInt8(buffer, offset));};CapeBuffer.setByte = function(buffer, offset, value) {new Uint8Array(buffer)[offset] = value;};CapeBuffer.allocate = function(size) {return(new ArrayBuffer(size));};CapeBuffer.resize = function(buffer, newSize) {if(buffer == null) {return(CapeBuffer.allocate(newSize));}var newbuffer = CapeBuffer.allocate(newSize);var uint8 = new Uint8Array(newbuffer);uint8.set(new Uint8Array(buffer));return(newbuffer);};CapeBuffer.append = function(original, toAppend, size) {if(toAppend == null || size === 0) {return(original);}var sz = size;var os = CapeBuffer.getSize(original);var oas = CapeBuffer.getSize(toAppend);if(sz >= 0) {oas = sz;}var nl = os + oas;var nb = CapeBuffer.resize(original, nl);CapeBuffer.copyFrom(nb, toAppend, 0, os, oas);return(nb);};CapeBuffer.forHexString = function(str) {if(str == null || CapeString.getLength(str) % 2 !== 0) {return(null);}var sb = null;var b = CapeBuffer.allocate(CapeString.getLength(str) / 2);var n = 0;var it = CapeString.iterate(str);while(it != null) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}if(sb == null) {sb = CapeStringBuilder.NEW();}if(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'f'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'F'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {sb.appendCharacter(c);if(sb.count() === 2) {CapeBuffer.setByte(b, n++, CapeString.toIntegerFromHex(sb.toString()));sb.clear();}}else {return(null);}}return(b);};CapeBuffer.readFrom = function(reader) {if(reader == null) {return(null);}var v = null;var tmp = new ArrayBuffer(1024);while(true) {var r = reader.read(tmp);if(r < 1) {break;}v = CapeBuffer.append(v, tmp, r);if(v == null) {break;}}return(v);};var P2 = P;CapeBuffer.MyBufferObject = function() {this.buffer = null;};var P = CapeBuffer.MyBufferObject.prototype;P._t = {"CapeBuffer.MyBufferObject" : true,"CapeBufferObject" : true};CapeBuffer.MyBufferObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBuffer.MyBufferObject"] === true);};CapeBuffer.MyBufferObject.NEW = function() {var v = new CapeBuffer.MyBufferObject();return(v.CTOR());};P.CTOR = function() {this.buffer = null;return(this);};P.toBuffer = function() {return(this.buffer);};P.getBuffer = function() {return(this.buffer);};P.setBuffer = function(v) {this.buffer = v;return(this);};P = P2;P2 = null;var CapeReader = {};CapeReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeReader"] === true);};var CapeWriter = {};CapeWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeWriter"] === true);};var CapeByteReader = {};CapeByteReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeByteReader"] === true);};var CapeCharacterObject = {};CapeCharacterObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterObject"] === true);};var CapeCharacterIterator = {};CapeCharacterIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterIterator"] === true);};var CapeCharacterDecoder = function() {this.encoding = null;this.current = null;this.currentSize = null;this.ended = null;};var P = CapeCharacterDecoder.prototype;CapeCharacterDecoder.UTF8 = 0;CapeCharacterDecoder.ASCII = 1;CapeCharacterDecoder.UCS2 = 2;P._t = {"CapeCharacterDecoder" : true,"CapeCharacterIterator" : true};CapeCharacterDecoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterDecoder"] === true);};CapeCharacterDecoder.NEW = function() {var v = new CapeCharacterDecoder();return(v.CTOR());};P.CTOR = function() {this.ended = false;this.currentSize = 0;this.current = String.fromCharCode(0);this.encoding = 0;return(this);};P.copyTo = function(o) {o.encoding = this.encoding;o.current = this.current;o.currentSize = this.currentSize;o.ended = this.ended;};P.moveToPreviousByte = function() {return(false);};P.moveToNextByte = function() {return(false);};P.getCurrentByte = function() {return(0);};P.setEncoding = function(ee) {if(CapeString.equalsIgnoreCase(ee, "UTF8") || CapeString.equalsIgnoreCase(ee, "UTF-8")) {this.encoding = CapeCharacterDecoder.UTF8;this.currentSize = 1;return(this);}if(CapeString.equalsIgnoreCase(ee, "ASCII")) {this.encoding = CapeCharacterDecoder.ASCII;this.currentSize = 1;return(this);}if(CapeString.equalsIgnoreCase(ee, "UCS2") || CapeString.equalsIgnoreCase(ee, "UCS-2")) {this.encoding = CapeCharacterDecoder.UCS2;this.currentSize = 2;return(this);}return(null);};P.moveToPreviousChar = function() {var cs = this.currentSize;if(cs > 1) {var n = 0;for(n = 0 ; n < cs - 1 ; n++) {if(!this.moveToPreviousByte()) {return(false);}}}var v = this.doMoveToPreviousChar();if(v === false && cs > 1) {var n = 0;for(n = 0 ; n < cs - 1 ; n++) {this.moveToNextByte();}}if(v && this.ended) {this.ended = false;}return(v);};P.doMoveToPreviousChar = function() {if(this.encoding === CapeCharacterDecoder.UTF8) {if(!this.moveToPreviousByte()) {return(false);}var c2 = this.getCurrentByte();if(c2 <= 127) {this.current = String.fromCharCode(c2);this.currentSize = 1;return(true);}if(!this.moveToPreviousByte()) {return(false);}var c1 = this.getCurrentByte();if((c1 & 192) === 192) {if(!this.moveToNextByte()) {return(false);}var v = ((c1 & 31) << 6);v += (c2 & 63);this.current = String.fromCharCode(v);this.currentSize = 2;return(true);}if(!this.moveToPreviousByte()) {return(false);}var c0 = this.getCurrentByte();if((c0 & 224) === 224) {if(!this.moveToNextByte()) {return(false);}if(!this.moveToNextByte()) {return(false);}var v = ((c0 & 15) << 12);v += ((c1 & 63) << 6);v += (c2 & 63);this.current = String.fromCharCode(v);this.currentSize = 3;return(true);}if(!this.moveToPreviousByte()) {return(false);}var cm1 = this.getCurrentByte();if((cm1 & 240) === 240) {if(!this.moveToNextByte()) {return(false);}if(!this.moveToNextByte()) {return(false);}if(!this.moveToNextByte()) {return(false);}var v = ((cm1 & 7) << 18);v += ((c0 & 63) << 12);v += ((c1 & 63) << 6);v += (c2 & 63);this.current = String.fromCharCode(v);this.currentSize = 4;return(true);}this.moveToNextByte();this.moveToNextByte();this.moveToNextByte();this.moveToNextByte();return(false);}if(this.encoding === CapeCharacterDecoder.ASCII) {if(!this.moveToPreviousByte()) {return(false);}this.current = String.fromCharCode(this.getCurrentByte());return(true);}if(this.encoding === CapeCharacterDecoder.UCS2) {if(!this.moveToPreviousByte()) {return(false);}var c1 = this.getCurrentByte();if(!this.moveToPreviousByte()) {return(false);}var c0 = this.getCurrentByte();if(!this.moveToNextByte()) {return(false);}this.current = String.fromCharCode(c0 << 8 & c1);return(true);}console.log("Unsupported encoding in CharacterDecoder: " + (CapeString.forInteger(this.encoding)));return(false);};P.moveToNextChar = function() {var v = this.doMoveToNextChar();if(v === false) {this.current = String.fromCharCode(0);this.ended = true;}return(v);};P.doMoveToNextChar = function() {if(this.encoding === CapeCharacterDecoder.UTF8) {if(!this.moveToNextByte()) {return(false);}var b1 = this.getCurrentByte();var v = -1;if((b1 & 240) === 240) {v = ((b1 & 7) << 18);if(!this.moveToNextByte()) {return(false);}var b2 = this.getCurrentByte();v += ((b2 & 63) << 12);if(!this.moveToNextByte()) {return(false);}var b3 = this.getCurrentByte();v += ((b3 & 63) << 6);if(!this.moveToNextByte()) {return(false);}var b4 = this.getCurrentByte();v += (b4 & 63);this.currentSize = 4;}else if((b1 & 224) === 224) {v = ((b1 & 15) << 12);if(!this.moveToNextByte()) {return(false);}var b2 = this.getCurrentByte();v += ((b2 & 63) << 6);if(!this.moveToNextByte()) {return(false);}var b3 = this.getCurrentByte();v += (b3 & 63);this.currentSize = 3;}else if((b1 & 192) === 192) {v = ((b1 & 31) << 6);if(!this.moveToNextByte()) {return(false);}var b2 = this.getCurrentByte();v += (b2 & 63);this.currentSize = 2;}else if(b1 <= 127) {v = b1;this.currentSize = 1;}else {return(false);}this.current = String.fromCharCode(v);return(true);}if(this.encoding === CapeCharacterDecoder.ASCII) {if(!this.moveToNextByte()) {return(false);}this.current = String.fromCharCode(this.getCurrentByte());return(true);}if(this.encoding === CapeCharacterDecoder.UCS2) {if(!this.moveToNextByte()) {return(false);}var c0 = this.getCurrentByte();if(!this.moveToNextByte()) {return(false);}var c1 = this.getCurrentByte();this.current = String.fromCharCode(c0 << 8 & c1);return(true);}console.log("Unsupported encoding in CharacterDecoder: " + (CapeString.forInteger(this.encoding)));return(false);};P.getCurrentChar = function() {return(this.current);};P.getNextChar = function() {if(this.moveToNextChar() === false) {return(String.fromCharCode(0));}return(this.current);};P.hasEnded = function() {return(this.ended);};P.getCurrentPosition = function() {};P.setCurrentPosition = function(position) {};var CapeDuplicateable = {};CapeDuplicateable.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDuplicateable"] === true);};var CapeCharacterIteratorForReader = function() {CapeCharacterDecoder.call(this);this.reader = null;this.buffer = null;this.bufferStart = null;this.bufferSize = null;this.bufferDataSize = null;this.currentPos = null;this.readPos = null;};CapeCharacterIteratorForReader.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeCharacterDecoder.prototype);var P = CapeCharacterIteratorForReader.prototype;P.constructor = CapeCharacterIteratorForReader;P._t = {"CapeCharacterIteratorForReader" : true,"CapeCharacterDecoder" : true,"CapeCharacterIterator" : true};CapeCharacterIteratorForReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterIteratorForReader"] === true);};CapeCharacterIteratorForReader.NEW = function() {var v = new CapeCharacterIteratorForReader();return(v.CTOR());};P.CTOR = function() {if(CapeCharacterDecoder.prototype.CTOR.call(this) == null) {return(null);}return(this);};CapeCharacterIteratorForReader.forReaderWithReader = function(reader) {return(CapeCharacterIteratorForReader.NEWWithReader(reader));};CapeCharacterIteratorForReader.forReaderWithReaderAndSignedLongInteger = function(reader, bufferSize) {return(CapeCharacterIteratorForReader.NEWWithReaderAndSignedLongInteger(reader, bufferSize));};CapeCharacterIteratorForReader.NEWWithReader = function(reader) {var v = new CapeCharacterIteratorForReader();return(v.CTORWithReader(reader));};P.CTORWithReader = function(reader) {if(CapeCharacterDecoder.prototype.CTOR.call(this) == null) {return(null);}this.readPos = 0;this.currentPos = -1;this.bufferDataSize = 0;this.bufferSize = 0;this.bufferStart = -1;this.buffer = null;this.reader = null;this.reader = reader;this.buffer = new ArrayBuffer(1024);this.bufferSize = 1024;return(this);};CapeCharacterIteratorForReader.NEWWithReaderAndSignedLongInteger = function(reader, bufferSize) {var v = new CapeCharacterIteratorForReader();return(v.CTORWithReaderAndSignedLongInteger(reader, bufferSize));};P.CTORWithReaderAndSignedLongInteger = function(reader, bufferSize) {if(CapeCharacterDecoder.prototype.CTOR.call(this) == null) {return(null);}this.readPos = 0;this.currentPos = -1;this.bufferDataSize = 0;this.bufferSize = 0;this.bufferStart = -1;this.buffer = null;this.reader = null;this.reader = reader;this.buffer = new ArrayBuffer(bufferSize);this.bufferSize = bufferSize;return(this);};P.makeDataAvailable = function(n) {if(n >= this.bufferStart && n < this.bufferStart + this.bufferDataSize) {return(true);}if(CapeSeekableReader.IS_INSTANCE(this.reader)) {var block = n / this.bufferSize;var blockPos = block * this.bufferSize;if(this.readPos !== blockPos) {if(!this.reader.setCurrentPosition(blockPos)) {return(false);}this.readPos = blockPos;}}this.bufferDataSize = this.reader.read(this.buffer);this.bufferStart = this.readPos;this.readPos += this.bufferDataSize;if(n >= this.bufferStart && n < this.bufferStart + this.bufferDataSize) {return(true);}return(false);};P.moveToPreviousByte = function() {if(!this.makeDataAvailable(this.currentPos - 1)) {return(false);}this.currentPos--;return(true);};P.moveToNextByte = function() {if(!this.makeDataAvailable(this.currentPos + 1)) {return(false);}this.currentPos++;return(true);};P.getCurrentByte = function() {return(CapeBuffer.getByte(this.buffer, this.currentPos - this.bufferStart));};P.getCurrentPosition = function() {return(this.currentPos);};P.setCurrentPosition = function(position) {this.currentPos = position;};var CapeCharacterIteratorForBuffer = function() {CapeCharacterDecoder.call(this);this.buffer = null;this.currentPosition = null;};CapeCharacterIteratorForBuffer.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeCharacterDecoder.prototype);var P = CapeCharacterIteratorForBuffer.prototype;P.constructor = CapeCharacterIteratorForBuffer;P._t = {"CapeCharacterIteratorForBuffer" : true,"CapeCharacterDecoder" : true,"CapeCharacterIterator" : true,"CapeDuplicateable" : true};CapeCharacterIteratorForBuffer.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterIteratorForBuffer"] === true);};CapeCharacterIteratorForBuffer.NEW = function() {var v = new CapeCharacterIteratorForBuffer();return(v.CTOR());};P.CTOR = function() {this.currentPosition = -1;this.buffer = null;if(CapeCharacterDecoder.prototype.CTOR.call(this) == null) {return(null);}return(this);};CapeCharacterIteratorForBuffer.forBuffer = function(buffer) {var v = CapeCharacterIteratorForBuffer.NEW();v.setBuffer(buffer);return(v);};P.setBuffer = function(buffer) {this.buffer = buffer;this.currentPosition = -1;};P.moveToPreviousByte = function() {if(this.currentPosition < 1) {return(false);}this.currentPosition--;return(true);};P.moveToNextByte = function() {if(this.currentPosition + 1 >= CapeBuffer.getSize(this.buffer)) {return(false);}this.currentPosition++;return(true);};P.getCurrentByte = function() {return(CapeBuffer.getByte(this.buffer, this.currentPosition));};P.getCurrentPosition = function() {return(this.currentPosition);};P.setCurrentPosition = function(position) {if(position < 0) {this.current = String.fromCharCode(0);this.currentPosition = -1;}else {this.currentPosition = position + 1;this.doMoveToPreviousChar();}};P.duplicate = function() {var v = CapeCharacterIteratorForBuffer.NEW();CapeCharacterDecoder.prototype.copyTo.call(this, v);v.buffer = this.buffer;v.currentPosition = this.currentPosition;return(v);};var CapeCharacter = function() {this.character = null;};var P = CapeCharacter.prototype;P._t = {"CapeCharacter" : true,"CapeCharacterObject" : true};CapeCharacter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacter"] === true);};CapeCharacter.NEW = function() {var v = new CapeCharacter();return(v.CTOR());};P.CTOR = function() {this.character = ' ';return(this);};CapeCharacter.asObject = function(character) {var v = CapeCharacter.NEW();v.setCharacter(character);return(v);};CapeCharacter.toUppercase = function(c) {if(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt()) {return(String.fromCharCode(c.charCodeAt() - 'a'.charCodeAt() + 'A'.charCodeAt()));}return(c);};CapeCharacter.toLowercase = function(c) {if(c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt()) {return(String.fromCharCode(c.charCodeAt() - 'A'.charCodeAt() + 'a'.charCodeAt()));}return(c);};CapeCharacter.isDigit = function(c) {return(c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};CapeCharacter.isLowercaseAlpha = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt());};CapeCharacter.isUppercaseAlpha = function(c) {return(c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt());};CapeCharacter.isHexDigit = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'f'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'F'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};CapeCharacter.isAlnum = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};CapeCharacter.isAlpha = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt());};CapeCharacter.isAlphaNumeric = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};CapeCharacter.isLowercaseAlphaNumeric = function(c) {return(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};CapeCharacter.isUppercaseAlphaNumeric = function(c) {return(c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt());};P.toCharacter = function() {return(this.character);};P.getCharacter = function() {return(this.character);};P.setCharacter = function(v) {this.character = v;return(this);};var CapeBinaryReader = function() {this.reader = null;this.buffer1 = null;this.buffer2 = null;this.buffer4 = null;};var P = CapeBinaryReader.prototype;P._t = {"CapeBinaryReader" : true,"CapeClosable" : true};CapeBinaryReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBinaryReader"] === true);};CapeBinaryReader.NEW = function() {var v = new CapeBinaryReader();return(v.CTOR());};P.CTOR = function() {this.buffer4 = null;this.buffer2 = null;this.buffer1 = null;this.reader = null;return(this);};CapeBinaryReader.forReader = function(reader) {var v = CapeBinaryReader.NEW();v.setReader(reader);return(v);};P.isOK = function() {if(!(this.reader != null)) {return(false);}return(true);};P.close = function() {var rc = (CapeClosable.IS_INSTANCE(this.reader) ? this.reader : null);if(rc != null) {rc.close();}this.reader = null;};P.seek = function(position) {var sr = (CapeSeekableReader.IS_INSTANCE(this.reader) ? this.reader : null);if(!(sr != null)) {return(false);}return(sr.setCurrentPosition(position));};P.read1 = function() {if(!(this.reader != null)) {return(null);}if(!(this.buffer1 != null)) {this.buffer1 = new ArrayBuffer(1);}var r = this.reader.read(this.buffer1);if(!(r === 1)) {this.close();return(null);}return(this.buffer1);};P.read2 = function() {if(!(this.reader != null)) {return(null);}if(!(this.buffer2 != null)) {this.buffer2 = new ArrayBuffer(2);}var r = this.reader.read(this.buffer2);if(!(r === 2)) {this.close();return(null);}return(this.buffer2);};P.read4 = function() {if(!(this.reader != null)) {return(null);}if(!(this.buffer4 != null)) {this.buffer4 = new ArrayBuffer(4);}var r = this.reader.read(this.buffer4);if(!(r === 4)) {this.close();return(null);}return(this.buffer4);};P.readBuffer = function(size) {if(!(this.reader != null)) {return(null);}if(!(size > 0)) {return(null);}var b = new ArrayBuffer(size);var r = this.reader.read(b);if(!(r === size)) {this.close();return(null);}return(b);};P.readInt8 = function() {var b = this.read1();if(!(b != null)) {return(0);}return(CapeBuffer.getInt8(b, 0));};P.readInt16LE = function() {var b = this.read2();if(!(b != null)) {return(0);}return(CapeBuffer.getInt16LE(b, 0));};P.readInt16BE = function() {var b = this.read2();if(!(b != null)) {return(0);}return(CapeBuffer.getInt16BE(b, 0));};P.readInt32LE = function() {var b = this.read4();if(!(b != null)) {return(0);}return(CapeBuffer.getInt32LE(b, 0));};P.readInt32BE = function() {var b = this.read4();if(!(b != null)) {return(0);}return(CapeBuffer.getInt32BE(b, 0));};P.getReader = function() {return(this.reader);};P.setReader = function(v) {this.reader = v;return(this);};var CapeCurrentProcess = function() {};var P = CapeCurrentProcess.prototype;P._t = {"CapeCurrentProcess" : true};CapeCurrentProcess.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCurrentProcess"] === true);};CapeCurrentProcess.NEW = function() {var v = new CapeCurrentProcess();return(v.CTOR());};P.CTOR = function() {return(this);};CapeCurrentProcess.terminate = function(value) {console.log("[cape.CurrentProcess.terminate] (CurrentProcess.sling:44:2): Not implemented");};CapeCurrentProcess.getExecutableFile = function() {return(null);};var CapeCurrentThread = function() {};var P = CapeCurrentThread.prototype;P._t = {"CapeCurrentThread" : true};CapeCurrentThread.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCurrentThread"] === true);};CapeCurrentThread.NEW = function() {var v = new CapeCurrentThread();return(v.CTOR());};P.CTOR = function() {return(this);};CapeCurrentThread.sleepSeconds = function(seconds) {CapeCurrentThread.sleepMilliSeconds(seconds * 1000);};CapeCurrentThread.sleepMicroSeconds = function(uSeconds) {CapeCurrentThread.sleepMilliSeconds(uSeconds / 1000);};CapeCurrentThread.sleepMilliSeconds = function(mSeconds) {console.log("[cape.CurrentThread.sleepMilliSeconds] (CurrentThread.sling:55:2): Not implemented");};var CapeStringObject = {};CapeStringObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringObject"] === true);};var CapeDoubleObject = {};CapeDoubleObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDoubleObject"] === true);};var CapeDoubleIterator = {};CapeDoubleIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDoubleIterator"] === true);};var CapeDouble = function() {this.value = null;};var P = CapeDouble.prototype;P._t = {"CapeDouble" : true,"CapeDoubleObject" : true};CapeDouble.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDouble"] === true);};CapeDouble.NEW = function() {var v = new CapeDouble();return(v.CTOR());};P.CTOR = function() {this.value = 0.0;return(this);};CapeDouble.forValue = function(value) {return(CapeDouble.asObject(value));};CapeDouble.asObject = function(value) {var v = CapeDouble.NEW();v.setValue(value);return(v);};CapeDouble.asDouble = function(obj) {if(!(obj != null)) {return(0.0);}if(CapeDoubleObject.IS_INSTANCE(obj)) {return(obj.toDouble());}if(CapeIntegerObject.IS_INSTANCE(obj)) {return(obj.toInteger());}if(typeof(obj) === 'string') {return(CapeString.toDouble(obj));}if(CapeStringObject.IS_INSTANCE(obj)) {return(CapeString.toDouble(obj.toString()));}if(CapeBooleanObject.IS_INSTANCE(obj)) {if(obj.toBoolean()) {return(1.0);}return(0.0);}if(CapeCharacterObject.IS_INSTANCE(obj)) {return(obj.toCharacter());}return(0.0);};P.add = function(amount) {this.value += amount;};P.toDouble = function() {return(this.value);};P.getValue = function() {return(this.value);};P.setValue = function(v) {this.value = v;return(this);};var CapeCharacterIteratorForString = function() {CapeCharacterIteratorForBuffer.call(this);};CapeCharacterIteratorForString.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeCharacterIteratorForBuffer.prototype);var P = CapeCharacterIteratorForString.prototype;P.constructor = CapeCharacterIteratorForString;P._t = {"CapeCharacterIteratorForString" : true,"CapeCharacterIteratorForBuffer" : true,"CapeCharacterDecoder" : true,"CapeCharacterIterator" : true,"CapeDuplicateable" : true};CapeCharacterIteratorForString.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeCharacterIteratorForString"] === true);};CapeCharacterIteratorForString.NEW = function() {var v = new CapeCharacterIteratorForString();return(v.CTOR());};P.CTOR = function() {if(CapeCharacterIteratorForBuffer.prototype.CTOR.call(this) == null) {return(null);}return(this);};CapeCharacterIteratorForString.forString = function(str) {var v = CapeCharacterIteratorForString.NEW();v.setBuffer(CapeString.toUTF8Buffer(str));return(v);};var CapeStringIterator = {};CapeStringIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringIterator"] === true);};var CapeIterateable = {};CapeIterateable.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeIterateable"] === true);};var CapeDynamicMapObject = {};CapeDynamicMapObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDynamicMapObject"] === true);};var CapeDynamicProperties = function() {};var P = CapeDynamicProperties.prototype;P._t = {"CapeDynamicProperties" : true};CapeDynamicProperties.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDynamicProperties"] === true);};CapeDynamicProperties.NEW = function() {var v = new CapeDynamicProperties();return(v.CTOR());};P.CTOR = function() {return(this);};CapeDynamicProperties.toCamelCase = function(word1, word2) {if(!(word1 != null)) {return(null);}if(!(word2 != null)) {return(null);}var sb = CapeStringBuilder.NEW();var c0 = CapeString.charAt(word1, 0);if(CapeCharacter.isUppercaseAlpha(c0)) {sb.appendCharacter(CapeCharacter.toLowercase(c0));sb.appendString(CapeString.getSubStringWithStringAndSignedInteger(word1, 1));}else {sb.appendString(word1);}var c1 = CapeString.charAt(word2, 0);if(CapeCharacter.isLowercaseAlpha(c1)) {sb.appendCharacter(CapeCharacter.toUppercase(c1));sb.appendString(CapeString.getSubStringWithStringAndSignedInteger(word2, 1));}else {sb.appendString(word2);}return(sb.toString());};CapeDynamicProperties.setObjectProperties = function(object, properties) {if(!(object != null)) {return;}if(!(properties != null)) {return;}for(var key of Object.keys(properties)) {if(properties.hasOwnProperty(key)) {object[this.toCamelCase("set", key)](properties[key]);}}};var CapeVectorObject = {};CapeVectorObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeVectorObject"] === true);};var CapeEnvironment = function() {};var P = CapeEnvironment.prototype;P._t = {"CapeEnvironment" : true};CapeEnvironment.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeEnvironment"] === true);};CapeEnvironment.NEW = function() {var v = new CapeEnvironment();return(v.CTOR());};P.CTOR = function() {return(this);};CapeEnvironment.getPathSeparator = function() {return('/');};CapeEnvironment.isAbsolutePath = function(path) {if(!(path != null)) {return(false);}return(CapeString.startsWithWithStringAndStringAndSignedInteger(path, "/", 0));};CapeEnvironment.getVariables = function() {console.log("[cape.Environment.getVariables] (Environment.sling:83:1): Not implemented");return(null);};CapeEnvironment.getVariable = function(key) {if(!(key != null)) {return(null);}var vars = CapeEnvironment.getVariables();if(!(vars != null)) {return(null);}return(CapeMap.getMapAndK(vars, key));};CapeEnvironment.setVariable = function(key, val) {console.log("[cape.Environment.setVariable] (Environment.sling:126:1): Not implemented");};CapeEnvironment.unsetVariable = function(key) {console.log("[cape.Environment.unsetVariable] (Environment.sling:131:1): Not implemented");};CapeEnvironment.setCurrentDirectory = function(dir) {console.log("[cape.Environment.setCurrentDirectory] (Environment.sling:136:1): Not implemented");};CapeEnvironment.getCurrentDirectory = function() {console.log("[cape.Environment.getCurrentDirectory] (Environment.sling:145:2): Not implemented");return(CapeFileInvalid.NEW());};CapeEnvironment.findCommand = function(command) {return(null);};CapeEnvironment.getTemporaryDirectory = function() {console.log("[cape.Environment.getTemporaryDirectory] (Environment.sling:187:2): Not implemented");return(CapeFileInvalid.NEW());};CapeEnvironment.getHomeDirectory = function() {console.log("[cape.Environment.getHomeDirectory] (Environment.sling:236:2): Not implemented");return(CapeFileInvalid.NEW());};CapeEnvironment.getAppDirectory = function() {console.log("[cape.Environment.getAppDirectory] (Environment.sling:257:2): Not implemented");return(CapeFileInvalid.NEW());};CapeEnvironment.getProgramFilesDirectory = function() {return(null);};CapeEnvironment.getProgramFilesX86Directory = function() {return(null);};CapeEnvironment.getApplicationsDirectory = function() {return(null);};CapeEnvironment.getCurrentApplicationId = function() {var v = null;var exe = CapeCurrentProcess.getExecutableFile();if(exe != null) {v = exe.baseNameWithoutExtension();}return(v);};CapeEnvironment.getApplicationDataDirectory = function(appId) {var applicationName = appId;if(CapeString.isEmpty(applicationName)) {applicationName = CapeEnvironment.getCurrentApplicationId();}if(CapeString.isEmpty(applicationName)) {return(null);}var v = null;if(v == null) {v = CapeFile.forRelativePath("." + applicationName, CapeEnvironment.getHomeDirectory(), false);}return(v);};CapeEnvironment.getPageURL = function() {var url = null;url = window.location.href;return(url);};CapeEnvironment.getQueryString = function() {var url = null;url = window.location.href;if(CapeString.isEmpty(url)) {return(null);}var q = CapeString.indexOfWithStringAndCharacterAndSignedInteger(url, '?', 0);if(q < 0) {return(null);}return(CapeString.getSubStringWithStringAndSignedInteger(url, q + 1));};var CapeError = function() {this.code = null;this.message = null;this.detail = null;};var P = CapeError.prototype;P._t = {"CapeError" : true,"CapeStringObject" : true};CapeError.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeError"] === true);};CapeError.NEW = function() {var v = new CapeError();return(v.CTOR());};P.CTOR = function() {this.detail = null;this.message = null;this.code = null;return(this);};CapeError.forCode = function(code, detail) {return(CapeError.NEW().setCode(code).setDetail(detail));};CapeError.forMessage = function(message) {return(CapeError.NEW().setMessage(message));};CapeError.instance = function(code, message, detail) {return(CapeError.NEW().setCode(code).setMessage(message).setDetail(detail));};CapeError.set = function(error, code, message) {if(!(error != null)) {return(null);}error.setCode(code);error.setMessage(message);return(error);};CapeError.setErrorCode = function(error, code) {return(CapeError.set(error, code, null));};CapeError.setErrorMessage = function(error, message) {return(CapeError.set(error, null, message));};CapeError.isError = function(o) {if(!(o != null)) {return(false);}if(!(CapeError.IS_INSTANCE(o))) {return(false);}var e = o;if(CapeString.isEmpty(e.getCode()) && CapeString.isEmpty(e.getMessage())) {return(false);}return(true);};CapeError.asString = function(error) {if(!(error != null)) {return(null);}return(error.toString());};P.clear = function() {this.code = null;this.message = null;this.detail = null;return(this);};P.toStringWithDefault = function(defaultError) {if(CapeString.isEmpty(this.message) === false) {return(this.message);}if(CapeString.isEmpty(this.code) === false) {if(CapeString.isEmpty(this.detail) === false) {return(this.code + ":" + this.detail);}return(this.code);}if(CapeString.isEmpty(this.detail) === false) {return("Error with detail: " + this.detail);}return(defaultError);};P.toString = function() {return(this.toStringWithDefault("Unknown Error"));};P.getCode = function() {return(this.code);};P.setCode = function(v) {this.code = v;return(this);};P.getMessage = function() {return(this.message);};P.setMessage = function(v) {this.message = v;return(this);};P.getDetail = function() {return(this.detail);};P.setDetail = function(v) {this.detail = v;return(this);};var CapeException = function() {};var P = CapeException.prototype;P._t = {"CapeException" : true};CapeException.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeException"] === true);};CapeException.NEW = function() {var v = new CapeException();return(v.CTOR());};P.CTOR = function() {return(this);};var CapeExceptionWithString = function() {CapeException.call(this);this.string = null;};CapeExceptionWithString.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeException.prototype);var P = CapeExceptionWithString.prototype;P.constructor = CapeExceptionWithString;P._t = {"CapeExceptionWithString" : true,"CapeException" : true,"CapeStringObject" : true};CapeExceptionWithString.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeExceptionWithString"] === true);};CapeExceptionWithString.NEW = function() {var v = new CapeExceptionWithString();return(v.CTOR());};P.CTOR = function() {this.string = null;if(CapeException.prototype.CTOR.call(this) == null) {return(null);}return(this);};CapeExceptionWithString.forString = function(string) {var v = CapeExceptionWithString.NEW();v.setString(string);return(v);};P.toString = function() {return(this.string);};P.getString = function() {return(this.string);};P.setString = function(v) {this.string = v;return(this);};var CapeIterator = {};CapeIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeIterator"] === true);};var CapeFileDescriptor = {};CapeFileDescriptor.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileDescriptor"] === true);};var CapeFileFinder = function() {this.root = null;this.patterns = null;this.excludePatterns = null;this.stack = null;this.includeMatchingDirectories = null;this.includeDirectories = null;};var P = CapeFileFinder.prototype;P._t = {"CapeFileFinder" : true,"CapeIterator" : true};CapeFileFinder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileFinder"] === true);};CapeFileFinder.forRoot = function(root) {return(CapeFileFinder.NEW().setRoot(root));};CapeFileFinder.NEW = function() {var v = new CapeFileFinder();return(v.CTOR());};P.CTOR = function() {this.includeDirectories = false;this.includeMatchingDirectories = false;this.stack = null;this.excludePatterns = null;this.patterns = null;this.root = null;this.patterns = new Array();this.excludePatterns = new Array();return(this);};P.setRoot = function(root) {this.root = root;this.stack = null;return(this);};P.addPattern = function(pattern) {this.patterns.push(CapeFileFinder.Pattern.NEW().setPattern(pattern));return(this);};P.addExcludePattern = function(pattern) {this.excludePatterns.push(CapeFileFinder.Pattern.NEW().setPattern(pattern));return(this);};P.matchPattern = function(file) {if(!(file != null)) {return(false);}if(CapeVector.getSize(this.patterns) < 1) {return(true);}var filename = file.baseName();if(this.patterns != null) {var n = 0;var m = this.patterns.length;for(n = 0 ; n < m ; n++) {var pattern = this.patterns[n];if(pattern != null) {if(pattern.match(filename)) {return(true);}}}}return(false);};P.matchExcludePattern = function(file) {if(!(file != null)) {return(false);}if(CapeVector.getSize(this.excludePatterns) < 1) {return(false);}var filename = file.baseName();if(this.excludePatterns != null) {var n = 0;var m = this.excludePatterns.length;for(n = 0 ; n < m ; n++) {var pattern = this.excludePatterns[n];if(pattern != null) {if(pattern.match(filename)) {return(true);}}}}return(false);};P.next = function() {while(true) {if(!(this.stack != null)) {if(!(this.root != null)) {break;}var es = this.root.entries();this.root = null;if(!(es != null)) {break;}this.stack = CapeStack.NEW();this.stack.push(es);}var entries = this.stack.peek();if(!(entries != null)) {this.stack = null;break;}var e = entries.next();if(!(e != null)) {this.stack.pop();}else if(this.matchExcludePattern(e)) {;}else if(e.isFile()) {if(this.matchPattern(e)) {return(e);}}else if(this.includeMatchingDirectories && e.isDirectory() && this.matchPattern(e)) {return(e);}else if(e.isDirectory() && e.isLink() === false) {var ees = e.entries();if(ees != null) {this.stack.push(ees);}if(this.includeDirectories) {return(e);}}}return(null);};P.getIncludeMatchingDirectories = function() {return(this.includeMatchingDirectories);};P.setIncludeMatchingDirectories = function(v) {this.includeMatchingDirectories = v;return(this);};P.getIncludeDirectories = function() {return(this.includeDirectories);};P.setIncludeDirectories = function(v) {this.includeDirectories = v;return(this);};var P2 = P;CapeFileFinder.Pattern = function() {this.pattern = null;this.suffix = null;this.prefix = null;};var P = CapeFileFinder.Pattern.prototype;P._t = {"CapeFileFinder.Pattern" : true};CapeFileFinder.Pattern.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileFinder.Pattern"] === true);};CapeFileFinder.Pattern.NEW = function() {var v = new CapeFileFinder.Pattern();return(v.CTOR());};P.CTOR = function() {this.prefix = null;this.suffix = null;this.pattern = null;return(this);};P.setPattern = function(pattern) {this.pattern = pattern;if(pattern != null) {if(CapeString.startsWithWithStringAndStringAndSignedInteger(pattern, "*", 0)) {this.suffix = CapeString.getSubStringWithStringAndSignedInteger(pattern, 1);}if(CapeString.endsWithWithStringAndString(pattern, "*")) {this.prefix = CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(pattern, 0, CapeString.getLength(pattern) - 1);}}return(this);};P.match = function(check) {if(!(check != null)) {return(false);}if(this.pattern === check) {return(true);}if(this.suffix != null && CapeString.endsWithWithStringAndString(check, this.suffix)) {return(true);}if(this.prefix != null && CapeString.startsWithWithStringAndStringAndSignedInteger(check, this.prefix, 0)) {return(true);}return(false);};P = P2;P2 = null;var CapeFileInfo = function() {this.file = null;this.size = null;this.createTime = null;this.accessTime = null;this.modifyTime = null;this.ownerUser = null;this.ownerGroup = null;this.mode = null;this.executable = null;this.type = null;this.link = null;};var P = CapeFileInfo.prototype;CapeFileInfo.FILE_TYPE_UNKNOWN = 0;CapeFileInfo.FILE_TYPE_FILE = 1;CapeFileInfo.FILE_TYPE_DIR = 2;P._t = {"CapeFileInfo" : true};CapeFileInfo.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileInfo"] === true);};CapeFileInfo.NEW = function() {var v = new CapeFileInfo();return(v.CTOR());};P.CTOR = function() {this.link = false;this.type = 0;this.executable = false;this.mode = 0;this.ownerGroup = 0;this.ownerUser = 0;this.modifyTime = 0;this.accessTime = 0;this.createTime = 0;this.size = 0;this.file = null;return(this);};CapeFileInfo.forFile = function(file) {if(file == null) {return(CapeFileInfo.NEW());}return(file.stat());};P.isFile = function() {if(this.type === CapeFileInfo.FILE_TYPE_FILE) {return(true);}return(false);};P.isLink = function() {return(this.link);};P.isDirectory = function() {if(this.type === CapeFileInfo.FILE_TYPE_DIR) {return(true);}return(false);};P.exists = function() {return(this.isFile() || this.isDirectory() || this.isLink());};P.getFile = function() {return(this.file);};P.setFile = function(v) {this.file = v;return(this);};P.getSize = function() {return(this.size);};P.setSize = function(v) {this.size = v;return(this);};P.getCreateTime = function() {return(this.createTime);};P.setCreateTime = function(v) {this.createTime = v;return(this);};P.getAccessTime = function() {return(this.accessTime);};P.setAccessTime = function(v) {this.accessTime = v;return(this);};P.getModifyTime = function() {return(this.modifyTime);};P.setModifyTime = function(v) {this.modifyTime = v;return(this);};P.getOwnerUser = function() {return(this.ownerUser);};P.setOwnerUser = function(v) {this.ownerUser = v;return(this);};P.getOwnerGroup = function() {return(this.ownerGroup);};P.setOwnerGroup = function(v) {this.ownerGroup = v;return(this);};P.getMode = function() {return(this.mode);};P.setMode = function(v) {this.mode = v;return(this);};P.getExecutable = function() {return(this.executable);};P.setExecutable = function(v) {this.executable = v;return(this);};P.getType = function() {return(this.type);};P.setType = function(v) {this.type = v;return(this);};P.getLink = function() {return(this.link);};P.setLink = function(v) {this.link = v;return(this);};var CapeFile = function() {this.lastErrorDescription = null;};var P = CapeFile.prototype;P._t = {"CapeFile" : true};CapeFile.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFile"] === true);};CapeFile.NEW = function() {var v = new CapeFile();return(v.CTOR());};P.CTOR = function() {this.lastErrorDescription = null;return(this);};CapeFile.forPath = function(path) {if(path == null || CapeString.getLength(path) < 1) {return(CapeFileInvalid.NEW());}console.log("[cape.File.forPath] (File.sling:61:2): Not implemented.");return(CapeFileInvalid.NEW());};CapeFile.forRelativePath = function(path, relativeTo, alwaysSupportWindowsPathnames) {if(relativeTo == null) {return(CapeFile.forPath(path));}if(path == null) {return(CapeFileInvalid.NEW());}if(CapeEnvironment.isAbsolutePath(path)) {return(CapeFile.forPath(path));}var sep = CapeEnvironment.getPathSeparator();if(sep.charCodeAt() !== '/'.charCodeAt()) {if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(path, sep, 0) < 0 && CapeString.indexOfWithStringAndCharacterAndSignedInteger(path, '/', 0) >= 0) {sep = '/';}}else if(alwaysSupportWindowsPathnames) {if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(path, sep, 0) < 0 && CapeString.indexOfWithStringAndCharacterAndSignedInteger(path, '\\', 0) >= 0) {sep = '\\';}}var f = relativeTo;var comps = CapeString.split(path, sep, 0);if(comps != null) {var n = 0;var m = comps.length;for(n = 0 ; n < m ; n++) {var comp = comps[n];if(comp != null) {if(CapeString.isEmpty(comp)) {continue;}f = f.entry(comp);}}}return(f);};P.entry = function(name) {};P.entries = function() {};P.move = function(dest, replace) {};P.touch = function() {};P.read = function() {};P.write = function() {};P.append = function() {};P.stat = function() {};P.createDirectory = function() {};P.createDirectoryRecursive = function() {};P.removeDirectory = function() {};P.getPath = function() {};P.remove = function() {};P.makeExecutable = function() {};P.getRelativePath = function(baseFile, prefix) {if(!(baseFile != null)) {return(null);}var vp = this.getPath();var bp = baseFile.getPath();while(CapeString.endsWithWithStringAndString(bp, "/") || CapeString.endsWithWithStringAndString(bp, "\\")) {bp = CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(bp, 0, CapeString.getLength(bp) - 1);}if(CapeString.startsWithWithStringAndStringAndSignedInteger(vp, bp + "/", 0) || CapeString.startsWithWithStringAndStringAndSignedInteger(vp, bp + "\\", 0)) {if(prefix != null) {return(prefix + (CapeString.getSubStringWithStringAndSignedInteger(vp, CapeString.getLength(bp))));}return(CapeString.getSubStringWithStringAndSignedInteger(vp, CapeString.getLength(bp) + 1));}return(null);};P.getRelativePathOrBaseName = function(baseFile, prefix) {var v = this.getRelativePath(baseFile, prefix);if(v != null) {return(v);}return(this.baseName());};P.rename = function(newname, replace) {return(this.move(CapeFile.forPath(newname), replace));};P.writeFromReader = function(reader, doAppend) {this.onError(null);if(!(reader != null)) {return(false);}var buffer = new ArrayBuffer(1024);if(!(buffer != null)) {return(false);}var writer = null;if(doAppend) {writer = this.append();}else {writer = this.write();}if(!(writer != null)) {return(false);}var v = true;while(true) {var r = reader.read(buffer);if(r < 1) {break;}var w = writer.write(buffer, r);if(w < r) {v = false;break;}}writer.close();return(v);};P.createFifo = function() {this.onError("Not supported");return(false);};P.isExecutable = function() {return(false);};P.exists = function() {this.onError(null);var fi = this.stat();return(fi.getType() !== CapeFileInfo.FILE_TYPE_UNKNOWN);};P.isIdentical = function(file) {if(!(file != null)) {return(false);}var myrd = this.read();if(!(myrd != null)) {return(false);}var oord = file.read();if(!(oord != null)) {return(false);}var mybuf = new ArrayBuffer(1024);if(!(mybuf != null)) {return(false);}var oobuf = new ArrayBuffer(1024);if(!(oobuf != null)) {return(false);}var v = true;while(v) {var myr = myrd.read(mybuf);var oor = oord.read(oobuf);if(myr !== oor) {v = false;}else {if(myr < 1) {break;}for(var n = 0 ; n < myr ; n++) {if(mybuf[n] !== oobuf[n]) {v = false;}}}}myrd.close();oord.close();return(v);};P.getLastErrorDescription = function() {return(this.lastErrorDescription);};P.onError = function(v) {var pp = this.getPath();if(!(v != null)) {this.lastErrorDescription = null;}else if(pp != null) {this.lastErrorDescription = pp + ": " + v;}else {this.lastErrorDescription = v;}};P.readLines = function() {var rd = CapePrintReader.forReader(this.read());if(!(rd != null)) {return(null);}return(CapeFile.ReadLineIterator.NEW().setReader(rd));};P.readLinesVector = function() {var it = this.readLines();if(!(it != null)) {return(null);}var v = new Array();while(true) {var line = it.next();if(!(line != null)) {break;}v.push(line);}return(v);};P.hasChangedSince = function(originalTimeStamp) {var nts = this.getLastModifiedTimeStamp();if(nts > originalTimeStamp) {return(true);}return(false);};P.getLastModifiedTimeStamp = function() {if(this.isFile() === false) {return(0);}var st = this.stat();if(st == null) {return(0);}return(st.getModifyTime());};P.compareModificationTime = function(bf) {if(bf == null) {return(1);}var myts = this.getLastModifiedTimeStamp();var bfts = bf.getLastModifiedTimeStamp();if(myts < bfts) {return(-1);}if(myts > bfts) {return(1);}return(0);};P.isNewerThan = function(bf) {return(this.compareModificationTime(bf) > 0);};P.isOlderThan = function(bf) {return(this.compareModificationTime(bf) < 0);};P.isSame = function(file) {this.onError(null);if(!(file != null)) {return(false);}var path = this.getPath();if(path != null && path === file.getPath()) {return(true);}return(false);};P.removeRecursive = function() {this.onError(null);var finfo = this.stat();if(!(finfo != null)) {return(true);}if(finfo.isDirectory() === false || finfo.isLink() === true) {return(this.remove());}var it = this.entries();if(!(it != null)) {return(false);}while(it != null) {var f = it.next();if(!(f != null)) {break;}if(!f.removeRecursive()) {this.onError(f.getLastErrorDescription());return(false);}}return(this.removeDirectory());};P.isFile = function() {var st = this.stat();if(!(st != null)) {return(false);}return(st.isFile());};P.isDirectory = function() {var st = this.stat();if(!(st != null)) {return(false);}return(st.isDirectory());};P.isLink = function() {var st = this.stat();if(!(st != null)) {return(false);}return(st.isLink());};P.getSize = function() {var st = this.stat();if(st == null) {return(0);}return(st.getSize());};P.setMode = function(mode) {this.onError("Not supported");return(false);};P.setOwnerUser = function(uid) {this.onError("Not supported");return(false);};P.setOwnerGroup = function(gid) {this.onError("Not supported");return(false);};P.withExtension = function(ext) {if(!(ext != null)) {return(this);}var bn = this.baseName();return(this.getSibling(bn + "." + ext));};P.asExecutable = function() {return(this);};P.getParent = function() {this.onError(null);var path = this.directoryName();if(path == null) {return(CapeFileInvalid.NEW());}return(CapeFile.forPath(path));};P.getSibling = function(name) {var pp = this.getParent();if(!(pp != null)) {return(null);}if(name == null) {return(pp);}return(pp.entry(name));};P.hasExtension = function(ext) {var xx = this.extension();if(!(xx != null)) {return(false);}return(CapeString.equalsIgnoreCase(xx, ext));};P.extension = function() {var bn = this.baseName();if(!(bn != null)) {return(null);}var dot = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(bn, '.', -1);if(dot < 0) {return(null);}return(CapeString.subStringWithStringAndSignedInteger(bn, dot + 1));};P.directoryName = function() {var path = this.getPath();if(!(path != null)) {return(null);}var delim = CapeEnvironment.getPathSeparator();var dp = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(path, delim, -1);if(dp < 0) {return(".");}return(CapeString.subStringWithStringAndSignedIntegerAndSignedInteger(path, 0, dp));};P.baseName = function() {var path = this.getPath();if(!(path != null)) {return(null);}var delim = CapeEnvironment.getPathSeparator();var dp = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(path, delim, -1);if(dp < 0) {return(path);}return(CapeString.subStringWithStringAndSignedInteger(path, dp + 1));};P.baseNameWithoutExtension = function() {var bn = this.baseName();if(!(bn != null)) {return(null);}var dot = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(bn, '.', -1);if(dot < 0) {return(bn);}return(CapeString.subStringWithStringAndSignedIntegerAndSignedInteger(bn, 0, dot));};P.copyFileTo = function(dest) {this.onError(null);if(!(dest != null)) {return(false);}if(this.isSame(dest)) {return(true);}var buf = new ArrayBuffer(4096 * 4);if(!(buf != null)) {return(false);}var reader = this.read();if(!(reader != null)) {return(false);}var writer = dest.write();if(!(writer != null)) {if(CapeClosable.IS_INSTANCE(reader)) {reader.close();}this.onError(dest.getLastErrorDescription());return(false);}var v = true;var n = 0;while((n = reader.read(buf)) > 0) {var nr = writer.write(buf, n);if(nr !== n) {v = false;break;}}if(v) {var fi = this.stat();if(fi != null) {var mode = fi.getMode();if(mode !== 0) {dest.setMode(mode);}}}else {dest.remove();}if(reader != null && CapeClosable.IS_INSTANCE(reader)) {reader.close();}if(writer != null && CapeClosable.IS_INSTANCE(writer)) {writer.close();}return(v);};P.copyFileOrDirectoryTo = function(dest) {if(!(dest != null)) {return(false);}if(this.isFile()) {return(this.copyFileTo(dest));}if(!this.isDirectory()) {return(false);}if(!dest.createDirectoryRecursive()) {return(false);}var it = this.entries();if(!(it != null)) {return(false);}while(true) {var nsrc = it.next();if(!(nsrc != null)) {break;}var ndest = dest.entry(nsrc.baseName());if(!nsrc.copyFileOrDirectoryTo(ndest)) {return(false);}}return(true);};P.setContentsString = function(str, encoding) {if(CapeString.isEmpty(encoding)) {return(false);}return(this.setContentsBuffer(CapeString.toBuffer(str, encoding)));};P.setContentsUTF8 = function(str) {return(this.setContentsString(str, "UTF-8"));};P.setContentsBuffer = function(buffer) {this.onError(null);if(!(buffer != null)) {return(false);}var writer = this.write();if(!(writer != null)) {return(false);}if(writer.write(buffer, buffer.byteLength) < 0) {return(false);}writer.close();return(true);};P.getContentsString = function(encoding) {if(CapeString.isEmpty(encoding)) {return(null);}return(CapeString.forBuffer(this.getContentsBuffer(), encoding));};P.getContentsUTF8 = function() {return(this.getContentsString("UTF-8"));};P.getContentsBuffer = function() {this.onError(null);var reader = this.read();if(!(reader != null)) {return(null);}var sz = reader.getSize();var b = new ArrayBuffer(sz);var rsz = reader.read(b);reader.close();if(rsz < sz) {return(null);}return(b);};var P2 = P;CapeFile.ReadLineIterator = function() {this.reader = null;};var P = CapeFile.ReadLineIterator.prototype;P._t = {"CapeFile.ReadLineIterator" : true,"CapeIterator" : true};CapeFile.ReadLineIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFile.ReadLineIterator"] === true);};CapeFile.ReadLineIterator.NEW = function() {var v = new CapeFile.ReadLineIterator();return(v.CTOR());};P.CTOR = function() {this.reader = null;return(this);};P.next = function() {if(!(this.reader != null)) {return(null);}var v = this.reader.readLine();if(v == null) {this.reader.close();this.reader = null;}return(v);};P.getReader = function() {return(this.reader);};P.setReader = function(v) {this.reader = v;return(this);};P = P2;P2 = null;var CapeSizedReader = {};CapeSizedReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeSizedReader"] === true);};var CapeSeekableWriter = {};CapeSeekableWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeSeekableWriter"] === true);};var CapeFlushableWriter = {};CapeFlushableWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFlushableWriter"] === true);};var CapeIntegerObject = {};CapeIntegerObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeIntegerObject"] === true);};var CapeIntegerIterator = {};CapeIntegerIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeIntegerIterator"] === true);};var CapeInteger = function() {this.value = null;};var P = CapeInteger.prototype;P._t = {"CapeInteger" : true,"CapeIntegerObject" : true};CapeInteger.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeInteger"] === true);};CapeInteger.NEW = function() {var v = new CapeInteger();return(v.CTOR());};P.CTOR = function() {this.value = 0;return(this);};CapeInteger.forValue = function(value) {return(CapeInteger.asObject(value));};CapeInteger.asObject = function(integer) {var v = CapeInteger.NEW();v.setValue(integer);return(v);};CapeInteger.asIntegerWithString = function(str) {if(!(str != null)) {return(0);}return(CapeString.toInteger(str));};CapeInteger.asIntegerWithObject = function(obj) {if(!(obj != null)) {return(0);}if(CapeIntegerObject.IS_INSTANCE(obj)) {return(obj.toInteger());}if(typeof(obj) === 'string') {return(CapeString.toInteger(obj));}if(CapeStringObject.IS_INSTANCE(obj)) {return(CapeString.toInteger(obj.toString()));}if(CapeDoubleObject.IS_INSTANCE(obj)) {return(~~((obj.toDouble())));}if(CapeBooleanObject.IS_INSTANCE(obj)) {if(obj.toBoolean()) {return(1);}return(0);}if(CapeCharacterObject.IS_INSTANCE(obj)) {return(obj.toCharacter().charCodeAt());}return(0);};P.add = function(amount) {this.value += amount;};P.toInteger = function() {return(this.value);};P.getValue = function() {return(this.value);};P.setValue = function(v) {this.value = v;return(this);};var CapeDynamicMap = function() {this.map = null;};var P = CapeDynamicMap.prototype;P._t = {"CapeDynamicMap" : true,"CapeDuplicateable" : true,"CapeIterateable" : true};CapeDynamicMap.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDynamicMap"] === true);};CapeDynamicMap.asDynamicMap = function(object) {if(!(object != null)) {return(null);}if(CapeDynamicMap.IS_INSTANCE(object)) {return(object);}if(object instanceof Map) {return(CapeDynamicMap.forObjectMap(object));}return(null);};CapeDynamicMap.forObjectMap = function(map) {var v = CapeDynamicMap.NEW();if(map != null) {var it = CapeMap.iterateKeys(map);while(it != null) {var key = it.next();if(key == null) {break;}if(typeof(key) === 'string' === false) {continue;}v.setStringAndObject(key, CapeMap.getValue(map, key));}}return(v);};CapeDynamicMap.forStringMap = function(map) {var v = CapeDynamicMap.NEW();if(map != null) {var it = CapeMap.iterateKeys(map);while(it != null) {var key = it.next();if(key == null) {break;}v.setStringAndObject(key, CapeMap.getValue(map, key));}}return(v);};CapeDynamicMap.NEW = function() {var v = new CapeDynamicMap();return(v.CTOR());};P.CTOR = function() {this.map = null;this.map = new Map();return(this);};P.asMap = function() {return(this.map);};P.asStringMap = function() {return(this.toStringMap());};P.toStringMap = function() {var v = new Map();var it = this.iterateKeys();while(it != null) {var key = it.next();if(!(key != null)) {break;}CapeMap.set(v, key, this.getString(key, null));}return(v);};P.toObjectMap = function() {var v = new Map();var it = this.iterateKeys();while(it != null) {var key = it.next();if(!(key != null)) {break;}CapeMap.set(v, key, this.getString(key, null));}return(v);};P.duplicate = function() {return(this.duplicateMap());};P.duplicateMap = function() {var v = CapeDynamicMap.NEW();var it = this.iterateKeys();while(it != null) {var key = it.next();if(key == null) {break;}v.setStringAndObject(key, this.get(key));}return(v);};P.mergeFrom = function(other) {if(other == null) {return(this);}var it = other.iterateKeys();while(it != null) {var key = it.next();if(key == null) {break;}this.setStringAndObject(key, other.get(key));}return(this);};P.setStringAndObject = function(key, value) {if(key != null) {this.map.set(key, value);}return(this);};P.setStringAndBuffer = function(key, value) {if(!(value != null)) {this.map.set(key, null);return(this);}return(this.setStringAndObject(key, CapeBuffer.asObject(value)));};P.setStringAndSignedInteger = function(key, value) {return(this.setStringAndObject(key, CapeInteger.asObject(value)));};P.setStringAndSignedLongInteger = function(key, value) {return(this.setStringAndObject(key, CapeLongInteger.asObject(value)));};P.setStringAndBoolean = function(key, value) {return(this.setStringAndObject(key, CapeBoolean.asObject(value)));};P.setStringAndDouble = function(key, value) {return(this.setStringAndObject(key, CapeDouble.asObject(value)));};P.get = function(key) {return(CapeMap.getValue(this.map, key));};P.getString = function(key, defval) {var v = CapeString.asStringWithObject(this.get(key));if(v == null) {return(defval);}return(v);};P.getInteger = function(key, defval) {var vv = this.get(key);if(vv == null) {return(defval);}return(CapeInteger.asIntegerWithObject(vv));};P.getLongInteger = function(key, defval) {var vv = this.get(key);if(vv == null) {return(defval);}return(CapeLongInteger.asLongWithObject(vv));};P.getBoolean = function(key, defval) {var vv = this.get(key);if(vv == null) {return(defval);}return(CapeBoolean.asBoolean(vv));};P.getDouble = function(key, defval) {var vv = this.get(key);if(vv == null) {return(defval);}return(CapeDouble.asDouble(vv));};P.getBuffer = function(key) {var vv = this.get(key);if(!(vv != null)) {return(null);}return(CapeBuffer.asBuffer(vv));};P.getDynamicVector = function(key) {var tvv = this.get(key);var vv = null;if(CapeDynamicVector.IS_INSTANCE(tvv)) {vv = tvv;}if(vv != null) {return(vv);}var v = this.getVector(key);if(v != null) {return(CapeDynamicVector.forObjectVector(v));}return(null);};P.getVector = function(key) {var val = this.get(key);if(!(val != null)) {return(null);}if(val instanceof Array) {return(val);}if(CapeVectorObject.IS_INSTANCE(val)) {var vo = val;var vv = vo.toVector();return(vv);}return(null);};CapeDynamicMap.objectAsCapeDynamicMap = function(o) {if(CapeDynamicMap.IS_INSTANCE(o)) {return(o);}return(null);};P.getDynamicMap = function(key) {return(CapeDynamicMap.objectAsCapeDynamicMap(this.get(key)));};P.getKeys = function() {var v = CapeMap.getKeys(this.map);return(v);};P.iterate = function() {var v = CapeMap.iterateKeys(this.map);return(v);};P.iterateKeys = function() {var v = CapeMap.iterateKeys(this.map);return(v);};P.iterateValues = function() {var v = CapeMap.iterateValues(this.map);return(v);};P.remove = function(key) {CapeMap.remove(this.map, key);};P.clear = function() {CapeMap.clear(this.map);};P.getCount = function() {return(CapeMap.count(this.map));};P.containsKey = function(key) {return(CapeMap.containsKey(this.map, key));};var CapeFileInvalid = function() {CapeFile.call(this);};CapeFileInvalid.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeFile.prototype);var P = CapeFileInvalid.prototype;P.constructor = CapeFileInvalid;P._t = {"CapeFileInvalid" : true,"CapeFile" : true};CapeFileInvalid.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileInvalid"] === true);};CapeFileInvalid.NEW = function() {var v = new CapeFileInvalid();return(v.CTOR());};P.CTOR = function() {if(CapeFile.prototype.CTOR.call(this) == null) {return(null);}return(this);};P.entry = function(name) {return(CapeFileInvalid.NEW());};P.makeExecutable = function() {return(false);};P.move = function(dest, replace) {return(false);};P.touch = function() {return(false);};P.read = function() {return(null);};P.write = function() {return(null);};P.append = function() {return(null);};P.stat = function() {return(null);};P.exists = function() {return(false);};P.isExecutable = function() {return(false);};P.createFifo = function() {return(false);};P.createDirectory = function() {return(false);};P.createDirectoryRecursive = function() {return(false);};P.removeDirectory = function() {return(false);};P.getPath = function() {return(null);};P.isSame = function(file) {return(false);};P.remove = function() {return(false);};P.removeRecursive = function() {return(false);};P.baseName = function() {return(null);};P.isIdentical = function(file) {return(false);};P.getContentsBuffer = function() {return(null);};P.getContentsString = function(encoding) {return(null);};P.setContentsBuffer = function(buffer) {return(false);};P.setContentsString = function(str, encoding) {return(false);};P.entries = function() {return(null);};var CapeJSONEncoder = function() {this.niceFormatting = null;this.stringFormattedBoolean = null;this.isNewLine = null;this.mysb = null;};var P = CapeJSONEncoder.prototype;P._t = {"CapeJSONEncoder" : true};CapeJSONEncoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeJSONEncoder"] === true);};CapeJSONEncoder.NEW = function() {var v = new CapeJSONEncoder();return(v.CTOR());};P.CTOR = function() {this.mysb = null;this.isNewLine = true;this.stringFormattedBoolean = false;this.niceFormatting = true;return(this);};P.print = function(line, indent, startline, endline, sb) {if(startline && this.isNewLine === false) {if(this.niceFormatting) {sb.appendCharacter('\n');}this.isNewLine = true;}if(this.isNewLine && this.niceFormatting) {for(var n = 0 ; n < indent ; n++) {sb.appendCharacter('\t');}}sb.appendString(line);if(endline) {if(this.niceFormatting) {sb.appendCharacter('\n');}this.isNewLine = true;}else {this.isNewLine = false;}};P.encodeArray = function(cc, indent, sb) {this.print("[", indent, false, true, sb);var first = true;if(cc != null) {var n = 0;var m = cc.length;for(n = 0 ; n < m ; n++) {var o = cc[n];if(o != null) {if(first === false) {this.print(",", indent, false, true, sb);}this.encodeObject(o, indent + 1, sb);first = false;}}}this.print("]", indent, true, false, sb);};P.encodeDynamicVector = function(cc, indent, sb) {this.print("[", indent, false, true, sb);var first = true;var array = cc.toVector();if(array != null) {var n = 0;var m = array.length;for(n = 0 ; n < m ; n++) {var o = array[n];if(o != null) {if(first === false) {this.print(",", indent, false, true, sb);}this.encodeObject(o, indent + 1, sb);first = false;}}}this.print("]", indent, true, false, sb);};P.encodeVector = function(cc, indent, sb) {this.print("[", indent, false, true, sb);var first = true;if(cc != null) {var n = 0;var m = cc.length;for(n = 0 ; n < m ; n++) {var o = cc[n];if(o != null) {if(first === false) {this.print(",", indent, false, true, sb);}this.encodeObject(o, indent + 1, sb);first = false;}}}this.print("]", indent, true, false, sb);};P.encodeMap = function(map, indent, sb) {this.print("{", indent, false, true, sb);var first = true;var it = CapeMap.iterateKeys(map);while(it != null) {var keyo = it.next();if(!(keyo != null)) {break;}var key = CapeString.asStringWithObject(keyo);if(!(key != null)) {continue;}if(!first) {this.print(",", indent, false, true, sb);}this.encodeString(key, indent + 1, sb);if(this.niceFormatting) {sb.appendString(" : ");}else {sb.appendCharacter(':');}this.encodeObject(map.get(keyo), indent + 1, sb);first = false;}this.print("}", indent, true, false, sb);};P.encodeDynamicMap = function(map, indent, sb) {this.print("{", indent, false, true, sb);var first = true;var it = map.iterateKeys();while(it != null) {var key = it.next();if(!(key != null)) {break;}if(first === false) {this.print(",", indent, false, true, sb);}this.encodeString(key, indent + 1, sb);if(this.niceFormatting) {sb.appendString(" : ");}else {sb.appendCharacter(':');}this.encodeObject(map.get(key), indent + 1, sb);first = false;}this.print("}", indent, true, false, sb);};P.encodeKeyValueList = function(list, indent, sb) {this.print("{", indent, false, true, sb);var first = true;var it = list.iterate();while(it != null) {var pair = it.next();if(pair == null) {break;}if(first === false) {this.print(",", indent, false, true, sb);}this.encodeString(pair.key, indent + 1, sb);if(this.niceFormatting) {sb.appendString(" : ");}else {sb.appendCharacter(':');}this.encodeString(pair.value, indent + 1, sb);first = false;}this.print("}", indent, true, false, sb);};P.encodeString = function(s, indent, sb) {if(this.mysb == null) {this.mysb = CapeStringBuilder.NEW();}else {this.mysb.clear();}this.mysb.appendCharacter('\"');if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(s, '\"', 0) >= 0 || CapeString.indexOfWithStringAndCharacterAndSignedInteger(s, '\\', 0) >= 0) {var it = CapeString.iterate(s);while(true) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}if(c === '\"') {this.mysb.appendCharacter('\\');}else if(c === '\\') {this.mysb.appendCharacter('\\');}this.mysb.appendCharacter(c);}}else {this.mysb.appendString(s);}this.mysb.appendCharacter('\"');this.print(this.mysb.toString(), indent, false, false, sb);};P.encodeBoolean = function(b, indent, sb) {if(this.mysb == null) {this.mysb = CapeStringBuilder.NEW();}else {this.mysb.clear();}if(this.stringFormattedBoolean) {this.mysb.appendCharacter('\"');this.mysb.appendString(CapeString.forBoolean(b));this.mysb.appendCharacter('\"');}else {this.mysb.appendString(CapeString.forBoolean(b));}this.print(this.mysb.toString(), indent, false, false, sb);};P.encodeObject = function(o, indent, sb) {if(!(o != null)) {this.encodeString("", indent, sb);}else if(CapeJSONObject.IS_INSTANCE(o)) {this.encodeObject(o.toJsonObject(), indent, sb);}else if(o instanceof Array) {this.encodeArray(o, indent, sb);}else if(o instanceof Array) {this.encodeVector(o, indent, sb);}else if(o instanceof Map) {this.encodeMap(o, indent, sb);}else if(o instanceof ArrayBuffer) {this.encodeString(CapeBase64Encoder.encode(o), indent, sb);}else if(typeof(o) === 'string') {this.encodeString(o, indent, sb);}else if(CapeDynamicMap.IS_INSTANCE(o)) {this.encodeDynamicMap(o, indent, sb);}else if(CapeDynamicVector.IS_INSTANCE(o)) {this.encodeDynamicVector(o, indent, sb);}else if(CapeKeyValueListForStrings.IS_INSTANCE(o)) {this.encodeKeyValueList(o, indent, sb);}else if(CapeStringObject.IS_INSTANCE(o)) {this.encodeString(o.toString(), indent, sb);}else if(CapeBufferObject.IS_INSTANCE(o)) {this.encodeString(CapeBase64Encoder.encode(o.toBuffer()), indent, sb);}else if(CapeArrayObject.IS_INSTANCE(o)) {var aa = o.toArray();this.encodeArray(aa, indent, sb);}else if(CapeVectorObject.IS_INSTANCE(o)) {var vv = o.toVector();this.encodeVector(vv, indent, sb);}else if(CapeIntegerObject.IS_INSTANCE(o) || CapeLongIntegerObject.IS_INSTANCE(o) || CapeDoubleObject.IS_INSTANCE(o) || CapeCharacterObject.IS_INSTANCE(o)) {this.encodeString(CapeString.asStringWithObject(o), indent, sb);}else if(CapeBooleanObject.IS_INSTANCE(o)) {this.encodeBoolean(CapeBoolean.asBoolean(o), indent, sb);}else {this.encodeString("", indent, sb);}};CapeJSONEncoder.encode = function(o, niceFormatting) {var v = CapeJSONEncoder.NEW();v.setStringFormattedBoolean(true);v.setNiceFormatting(niceFormatting);return(v.execute(o));};P.execute = function(o) {var sb = CapeStringBuilder.NEW();this.encodeObject(o, 0, sb);return(sb.toString());};CapeJSONEncoder.encodeStringToBuilder = function(s, sb) {sb.appendCharacter('\"');if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(s, '\"', 0) >= 0 || CapeString.indexOfWithStringAndCharacterAndSignedInteger(s, '\\', 0) >= 0) {var it = CapeString.iterate(s);while(true) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}if(c === '\"') {sb.appendCharacter('\\');}else if(c === '\\') {sb.appendCharacter('\\');}sb.appendCharacter(c);}}else {sb.appendString(s);}sb.appendCharacter('\"');};P.getNiceFormatting = function() {return(this.niceFormatting);};P.setNiceFormatting = function(v) {this.niceFormatting = v;return(this);};P.getStringFormattedBoolean = function() {return(this.stringFormattedBoolean);};P.setStringFormattedBoolean = function(v) {this.stringFormattedBoolean = v;return(this);};var CapeJSONObject = {};CapeJSONObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeJSONObject"] === true);};var CapeJSONObjectUtil = function() {};var P = CapeJSONObjectUtil.prototype;P._t = {"CapeJSONObjectUtil" : true};CapeJSONObjectUtil.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeJSONObjectUtil"] === true);};CapeJSONObjectUtil.NEW = function() {var v = new CapeJSONObjectUtil();return(v.CTOR());};P.CTOR = function() {return(this);};var CapeJSONParser = function() {this.iterator = null;};var P = CapeJSONParser.prototype;P._t = {"CapeJSONParser" : true};CapeJSONParser.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeJSONParser"] === true);};CapeJSONParser.NEW = function() {var v = new CapeJSONParser();return(v.CTOR());};P.CTOR = function() {this.iterator = null;return(this);};CapeJSONParser.parseBuffer = function(buffer) {if(buffer == null) {return(null);}return(CapeJSONParser.forBuffer(buffer).acceptObject());};CapeJSONParser.parseString = function(str) {if(CapeString.isEmpty(str)) {return(null);}return(CapeJSONParser.forString(str).acceptObject());};CapeJSONParser.parseFile = function(file) {if(file == null) {return(null);}return(CapeJSONParser.parseString(file.getContentsString("UTF-8")));};CapeJSONParser.forString = function(str) {var v = CapeJSONParser.NEW();v.setDataString(str);return(v);};CapeJSONParser.forBuffer = function(buffer) {var v = CapeJSONParser.NEW();v.setDataBuffer(buffer);return(v);};P.setDataString = function(str) {this.iterator = CapeCharacterIteratorForString.forString(str);this.iterator.moveToNextChar();};P.setDataBuffer = function(buffer) {this.iterator = CapeCharacterIteratorForBuffer.forBuffer(buffer);this.iterator.moveToNextChar();};P.skipSpaces = function() {while(true) {if(this.iterator.hasEnded()) {break;}var c = this.iterator.getCurrentChar();if(c === ' ' || c === '\t' || c === '\r' || c === '\n') {this.iterator.moveToNextChar();continue;}break;}};P.acceptChar = function(c) {this.skipSpaces();if(this.iterator.getCurrentChar() === c) {this.iterator.moveToNextChar();return(true);}return(false);};P.acceptString = function() {this.skipSpaces();var ss = this.iterator.getCurrentChar();if(ss.charCodeAt() !== '\''.charCodeAt() && ss.charCodeAt() !== '\"'.charCodeAt()) {return(null);}var i = 0;var sb = CapeStringBuilder.NEW();while(true) {var c = this.iterator.getNextChar();i++;if(c.charCodeAt() < 1) {for(var n = 0 ; n < i ; n++) {this.iterator.moveToPreviousChar();}return(null);}if(c === ss) {this.iterator.moveToNextChar();break;}if(c === '\\') {c = this.iterator.getNextChar();if(c === 'u') {var v = CapeStringBuilder.NEW();var x = 0;while(x < 4) {if(this.iterator.hasEnded()) {break;}v.appendCharacter(this.iterator.getNextChar());x++;}c = String.fromCharCode(CapeString.toIntegerFromHex(v.toString()));}}sb.appendCharacter(c);}return(sb.toString());};P.acceptBoolean = function() {this.skipSpaces();var ss = this.iterator.getCurrentChar();if(ss.charCodeAt() !== 't'.charCodeAt() && ss.charCodeAt() !== 'f'.charCodeAt()) {return(null);}var sb = CapeStringBuilder.NEW();sb.appendCharacter(ss);var li = 5;if(ss === 't') {li = 4;}var btc = 0;while(true) {var c = this.iterator.getNextChar();btc++;if(c.charCodeAt() !== 'a'.charCodeAt() && c.charCodeAt() !== 'l'.charCodeAt() && c.charCodeAt() !== 's'.charCodeAt() && c.charCodeAt() !== 'e'.charCodeAt() && c.charCodeAt() !== 'r'.charCodeAt() && c.charCodeAt() !== 'u'.charCodeAt()) {this.iterator.moveToNextChar();btc++;break;}sb.appendCharacter(c);if(sb.count() === li) {this.iterator.moveToNextChar();btc++;break;}}var v = sb.toString();if(li === 4 && "true" === v) {return(CapeBoolean.asObject(true));}if(li === 5 && "false" === v) {return(CapeBoolean.asObject(false));}var i = 0;while(i < btc) {this.iterator.moveToPreviousChar();i++;}return(null);};P.acceptNumber = function() {this.skipSpaces();var ss = this.iterator.getCurrentChar();if(ss.charCodeAt() !== '-'.charCodeAt() && ss.charCodeAt() !== '+'.charCodeAt() && ss.charCodeAt() !== '.'.charCodeAt() && (ss.charCodeAt() < '0'.charCodeAt() || ss.charCodeAt() > '9'.charCodeAt())) {return(null);}var sb = CapeStringBuilder.NEW();sb.appendCharacter(ss);while(true) {var c = this.iterator.getNextChar();if(c.charCodeAt() !== '.'.charCodeAt() && c.charCodeAt() !== 'e'.charCodeAt() && c.charCodeAt() !== 'E'.charCodeAt() && c.charCodeAt() !== '-'.charCodeAt() && (c.charCodeAt() < '0'.charCodeAt() || c.charCodeAt() > '9'.charCodeAt())) {break;}sb.appendCharacter(c);}var s = sb.toString();if(CapeString.getIndexOfWithStringAndCharacterAndSignedInteger(s, '.', 0) > -1) {return(CapeDouble.asObject(CapeDouble.asDouble(s)));}return(CapeInteger.asObject(CapeInteger.asIntegerWithString(s)));};P.acceptNull = function() {this.skipSpaces();var ss = this.iterator.getCurrentChar();if(ss.charCodeAt() !== 'n'.charCodeAt()) {return(null);}var sb = CapeStringBuilder.NEW();sb.appendCharacter(ss);var btc = 0;while(true) {var c = this.iterator.getNextChar();btc++;if(c.charCodeAt() !== 'u'.charCodeAt() && c.charCodeAt() !== 'l'.charCodeAt()) {this.iterator.moveToNextChar();btc++;break;}sb.appendCharacter(c);if(sb.count() === 4) {this.iterator.moveToNextChar();btc++;break;}}if("null" === sb.toString()) {return(CapeJSONParser.NullObject.NEW());}var i = 0;while(i < btc) {this.iterator.moveToPreviousChar();i++;}return(null);};P.acceptObject = function() {if(this.acceptChar('[')) {var v = CapeDynamicVector.NEW();while(true) {if(this.acceptChar(']')) {break;}var o = this.acceptObject();if(o == null) {return(null);}v.appendObject(o);this.acceptChar(',');}return(v);}if(this.acceptChar('{')) {var v = CapeDynamicMap.NEW();while(true) {if(this.acceptChar('}')) {break;}var key = this.acceptString();if(key == null) {return(null);}if(this.acceptChar(':') === false) {return(null);}var val = this.acceptObject();if(val == null) {return(null);}if(CapeJSONParser.NullObject.IS_INSTANCE(val)) {v.setStringAndObject(key, null);}else {v.setStringAndObject(key, val);}this.acceptChar(',');}return(v);}var s = this.acceptString();if(s != null) {return(s);}var b = this.acceptBoolean();if(b != null) {return(b);}var n = this.acceptNull();if(n != null) {return(n);}var v = this.acceptNumber();if(v != null) {return(v);}return(null);};P.getNextToken = function() {if(this.acceptChar('[')) {return("[");}if(this.acceptChar(']')) {return("]");}if(this.acceptChar('{')) {return("{");}if(this.acceptChar('}')) {return("}");}if(this.acceptChar(',')) {return(",");}var s = this.acceptString();if(s != null) {return(s);}var b = this.acceptBoolean();if(b != null) {return(b);}var n = this.acceptNull();if(n != null) {return(n);}var v = this.acceptNumber();if(v != null) {return(v);}return(null);};P.pushData = function(string) {if(!(string != null)) {return;}if(this.iterator == null) {this.setDataString(string);return;}var sb = CapeStringBuilder.NEW();while(true) {var c = this.iterator.getNextChar();if(c.charCodeAt() < 1) {break;}sb.appendCharacter(c);}sb.appendString(string);this.setDataString(sb.toString());};var P2 = P;CapeJSONParser.NullObject = function() {};var P = CapeJSONParser.NullObject.prototype;P._t = {"CapeJSONParser.NullObject" : true};CapeJSONParser.NullObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeJSONParser.NullObject"] === true);};CapeJSONParser.NullObject.NEW = function() {var v = new CapeJSONParser.NullObject();return(v.CTOR());};P.CTOR = function() {return(this);};P = P2;P2 = null;var CapeKeyValueList = function() {this.values = null;};var P = CapeKeyValueList.prototype;P._t = {"CapeKeyValueList" : true};CapeKeyValueList.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeKeyValueList"] === true);};CapeKeyValueList.NEW = function() {var v = new CapeKeyValueList();return(v.CTOR());};P.CTOR = function() {this.values = null;return(this);};P.addKAndV = function(key, val) {if(this.values == null) {this.values = new Array();}var kvp = CapeKeyValuePair.NEW();kvp.key = key;kvp.value = val;this.values.push(kvp);};P.addKeyValuePair = function(pair) {if(this.values == null) {this.values = new Array();}this.values.push(pair);};P.iterate = function() {var v = CapeVector.iterate(this.values);return(v);};P.asVector = function() {return(this.values);};P.dup = function() {var v = CapeKeyValueList.NEW();var it = this.iterate();while(true) {var kvp = it.next();if(kvp == null) {break;}v.addKAndV(kvp.key, kvp.value);}return(v);};P.getKey = function(index) {if(this.values == null) {return(null);}var kvp = CapeVector.get(this.values, index);if(kvp == null) {return(null);}return(kvp.key);};P.getValue = function(index) {if(this.values == null) {return(null);}var kvp = CapeVector.get(this.values, index);if(kvp == null) {return(null);}return(kvp.value);};P.count = function() {if(this.values == null) {return(0);}return(CapeVector.getSize(this.values));};P.remove = function(index) {CapeVector.remove(this.values, index);};P.clear = function() {this.values = null;};var CapeKeyValueListForStrings = function() {CapeKeyValueList.call(this);};CapeKeyValueListForStrings.prototype = (function(o) { function F() {}; F.prototype = o; return(new F()); }) (CapeKeyValueList.prototype);var P = CapeKeyValueListForStrings.prototype;P.constructor = CapeKeyValueListForStrings;P._t = {"CapeKeyValueListForStrings" : true,"CapeKeyValueList" : true};CapeKeyValueListForStrings.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeKeyValueListForStrings"] === true);};CapeKeyValueListForStrings.NEW = function() {var v = new CapeKeyValueListForStrings();return(v.CTOR());};P.CTOR = function() {if(CapeKeyValueList.prototype.CTOR.call(this) == null) {return(null);}return(this);};var CapeKeyValuePair = function() {this.key = null;this.value = null;};var P = CapeKeyValuePair.prototype;P._t = {"CapeKeyValuePair" : true};CapeKeyValuePair.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeKeyValuePair"] === true);};CapeKeyValuePair.NEW = function() {var v = new CapeKeyValuePair();return(v.CTOR());};P.CTOR = function() {this.value = null;this.key = null;return(this);};CapeKeyValuePair.NEWWithKAndV = function(key, value) {var v = new CapeKeyValuePair();return(v.CTORWithKAndV(key, value));};P.CTORWithKAndV = function(key, value) {this.value = null;this.key = null;this.key = key;this.value = value;return(this);};var CapeLineReader = {};CapeLineReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLineReader"] === true);};var CapeLog = function() {};var P = CapeLog.prototype;P._t = {"CapeLog" : true};CapeLog.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLog"] === true);};CapeLog.NEW = function() {var v = new CapeLog();return(v.CTOR());};P.CTOR = function() {return(this);};CapeLog.error = function(context, message) {if(context != null) {context.logError(message);}};CapeLog.warning = function(context, message) {if(context != null) {context.logWarning(message);}};CapeLog.info = function(context, message) {if(context != null) {context.logInfo(message);}};CapeLog.debug = function(context, message) {if(context != null) {context.logDebug(message);}};CapeLog.status = function(context, message) {if(context != null) {context.logStatus(message);}};var CapeApplicationContext = {};CapeApplicationContext.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeApplicationContext"] === true);};var CapeLongIntegerObject = {};CapeLongIntegerObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLongIntegerObject"] === true);};var CapeLongIntegerIterator = {};CapeLongIntegerIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLongIntegerIterator"] === true);};var CapeLongInteger = function() {this.value = null;};var P = CapeLongInteger.prototype;P._t = {"CapeLongInteger" : true,"CapeLongIntegerObject" : true};CapeLongInteger.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeLongInteger"] === true);};CapeLongInteger.NEW = function() {var v = new CapeLongInteger();return(v.CTOR());};P.CTOR = function() {this.value = 0;return(this);};CapeLongInteger.forValue = function(value) {return(CapeLongInteger.asObject(value));};CapeLongInteger.asObject = function(value) {var v = CapeLongInteger.NEW();v.setValue(value);return(v);};CapeLongInteger.asLongWithString = function(str) {if(!(str != null)) {return(0);}return(CapeString.toLong(str));};CapeLongInteger.asLongWithObject = function(obj) {if(!(obj != null)) {return(0);}if(CapeIntegerObject.IS_INSTANCE(obj)) {return(obj.toInteger());}if(CapeLongIntegerObject.IS_INSTANCE(obj)) {return(obj.toLong());}if(typeof(obj) === 'string') {return(CapeString.toLong(obj));}if(CapeStringObject.IS_INSTANCE(obj)) {return(CapeString.toLong(obj.toString()));}if(CapeDoubleObject.IS_INSTANCE(obj)) {return(~~((obj.toDouble())));}if(CapeBooleanObject.IS_INSTANCE(obj)) {if(obj.toBoolean()) {return(1);}return(0);}if(CapeCharacterObject.IS_INSTANCE(obj)) {return(obj.toCharacter().charCodeAt());}return(0);};P.add = function(amount) {this.value += amount;};P.toLong = function() {return(this.value);};P.getValue = function() {return(this.value);};P.setValue = function(v) {this.value = v;return(this);};var CapeMapObject = {};CapeMapObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeMapObject"] === true);};var CapeMap = function() {};var P = CapeMap.prototype;P._t = {"CapeMap" : true};CapeMap.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeMap"] === true);};CapeMap.NEW = function() {var v = new CapeMap();return(v.CTOR());};P.CTOR = function() {return(this);};CapeMap.asObject = function(map) {if(!(map != null)) {return(null);}var v = CapeMap.MyMapObject.NEW();v.setMap(map);return(v);};CapeMap.getMapAndKAndV = function(map, key, ddf) {if(map == null || key == null) {return(ddf);}if(CapeMap.containsKey(map, key) === false) {return(ddf);}return(CapeMap.getValue(map, key));};CapeMap.getMapAndK = function(map, key) {return(CapeMap.getValue(map, key));};CapeMap.getValue = function(map, key) {if(map == null || key == null) {return(null);}return(map.get(key));};CapeMap.set = function(data, key, val) {if(!(data != null)) {return(false);}if(!(key != null)) {return(false);}data.set(key, val);return(true);};CapeMap.setValue = function(data, key, val) {return(CapeMap.set(data, key, val));};CapeMap.remove = function(data, key) {if(!(data != null)) {return;}if(!(key != null)) {return;}data.delete(key);};CapeMap.count = function(data) {if(data == null) {return(0);}return(data.size);};CapeMap.containsKey = function(data, key) {if(!(data != null)) {return(false);}if(!(key != null)) {return(false);}return(data.has(key));};CapeMap.containsValue = function(data, val) {if(!(data != null)) {return(false);}if(!(val != null)) {return(false);}var vals = CapeMap.getValues(data);return(vals.includes(val));};CapeMap.clear = function(data) {if(!(data != null)) {return;}data.clear();};CapeMap.dup = function(data) {if(!(data != null)) {return(null);}return(new Map(data));};CapeMap.getKeys = function(data) {if(!(data != null)) {return(null);}var v = new Array();data.forEach(function(value, key) {this.push(key)}, v);return(v);};CapeMap.getValues = function(data) {if(!(data != null)) {return(null);}var v = new Array();data.forEach(function(value, keys) {this.push(value)}, v);return(v);};CapeMap.iterateKeys = function(data) {return(CapeVector.iterate(CapeMap.getKeys(data)));};CapeMap.iterateValues = function(data) {return(CapeVector.iterate(CapeMap.getValues(data)));};var P2 = P;CapeMap.MyMapObject = function() {this.map = null;};var P = CapeMap.MyMapObject.prototype;P._t = {"CapeMap.MyMapObject" : true,"CapeMapObject" : true};CapeMap.MyMapObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeMap.MyMapObject"] === true);};CapeMap.MyMapObject.NEW = function() {var v = new CapeMap.MyMapObject();return(v.CTOR());};P.CTOR = function() {this.map = null;return(this);};P.toMap = function() {return(this.map);};P.getMap = function() {return(this.map);};P.setMap = function(v) {this.map = v;return(this);};P = P2;P2 = null;var CapeMath = function() {};var P = CapeMath.prototype;CapeMath.M_PI = 3.14159265358979;CapeMath.M_PI_2 = 1.5707963267949;CapeMath.M_PI_4 = 0.785398163397448;CapeMath.M_1_PI = 0.318309886183791;CapeMath.M_2_PI = 0.636619772367581;CapeMath.M_2_SQRTPI = 1.12837916709551;CapeMath.M_SQRT2 = 1.4142135623731;CapeMath.M_SQRT1_2 = 0.707106781186548;CapeMath.HALF_AWAY_FROM_ZERO = 0;CapeMath.HALF_TOWARD_ZERO = 1;CapeMath.HALF_NEAREST_EVEN = 2;CapeMath.HALF_POSITIVE = 3;CapeMath.HALF_NEGATIVE = 4;P._t = {"CapeMath" : true};CapeMath.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeMath"] === true);};CapeMath.NEW = function() {var v = new CapeMath();return(v.CTOR());};P.CTOR = function() {return(this);};CapeMath.absDouble = function(d) {return(Math.abs(d));};CapeMath.absFloat = function(f) {return(Math.abs(f));};CapeMath.absSigned32bitInteger = function(i) {return(Math.abs(i));};CapeMath.absSigned64bitInteger = function(l) {return(Math.abs(l));};CapeMath.acos = function(d) {return(Math.acos(d));};CapeMath.asin = function(d) {return(Math.asin(d));};CapeMath.atan = function(d) {return(Math.atan(d));};CapeMath.atan2 = function(y, x) {return(Math.atan2(y,x));};CapeMath.ceil = function(d) {return(Math.ceil(d));};CapeMath.cos = function(d) {return(Math.cos(d));};CapeMath.cosh = function(d) {return(Math.cosh(d));};CapeMath.exp = function(d) {return(Math.exp(d));};CapeMath.floor = function(d) {return(Math.floor(d));};CapeMath.remainder = function(x, y) {var z = 0.0;z = x % y;return(z);};CapeMath.log = function(d) {return(Math.log(d));};CapeMath.log10 = function(d) {return(Math.log10(d));};CapeMath.maxDoubleAndDouble = function(d1, d2) {return(Math.max(d1,d2));};CapeMath.maxFloatAndFloat = function(f1, f2) {return(Math.max(f1,f2));};CapeMath.maxSigned32bitIntegerAndSigned32bitInteger = function(i1, i2) {return(Math.max(i1,i2));};CapeMath.maxSigned64bitIntegerAndSigned64bitInteger = function(l1, l2) {return(Math.max(l1,l2));};CapeMath.minDoubleAndDouble = function(d1, d2) {return(Math.min(d1,d2));};CapeMath.minFloatAndFloat = function(f1, f2) {return(Math.min(f1,f2));};CapeMath.minSigned32bitIntegerAndSigned32bitInteger = function(i1, i2) {return(Math.min(i1,i2));};CapeMath.minSigned64bitIntegerAndSigned64bitInteger = function(l1, l2) {return(Math.max(l1,l2));};CapeMath.pow = function(x, y) {return(Math.pow(x,y));};CapeMath.roundDouble = function(n) {return(Math.round(n));};CapeMath.roundDoubleAndSignedInteger = function(d, mode) {if(mode === CapeMath.HALF_POSITIVE) {return(Math.round(d));}var fd = CapeMath.floor(d);var dp = d - fd;if(dp < 0.5) {return(fd);}if(dp > 0.5) {return(CapeMath.ceil(d));}if(mode === CapeMath.HALF_AWAY_FROM_ZERO) {if(d < 0) {return(fd);}return(CapeMath.ceil(d));}if(mode === CapeMath.HALF_TOWARD_ZERO) {if(d < 0) {return(CapeMath.ceil(d));}return(fd);}if(mode === CapeMath.HALF_NEAREST_EVEN) {if(~~(fd) % 2 === 0) {return(fd);}return(CapeMath.ceil(d));}if(mode === CapeMath.HALF_POSITIVE) {return(CapeMath.ceil(d));}if(mode === CapeMath.HALF_NEGATIVE) {return(fd);}return(d);};CapeMath.sin = function(d) {return(Math.sin(d));};CapeMath.sinh = function(d) {return(Math.sinh(d));};CapeMath.sqrt = function(d) {return(Math.sqrt(d));};CapeMath.tan = function(d) {return(Math.tan(d));};CapeMath.tanh = function(d) {return(Math.tanh(d));};var CapeMutex = function() {};var P = CapeMutex.prototype;P._t = {"CapeMutex" : true};CapeMutex.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeMutex"] === true);};CapeMutex.NEW = function() {var v = new CapeMutex();return(v.CTOR());};P.CTOR = function() {return(this);};CapeMutex.create = function() {console.log("[cape.Mutex.create] (Mutex.sling:44:2): Not implemented");return(null);};P.lockMutex = function() {};P.unlockMutex = function() {};var CapeOS = function() {};var P = CapeOS.prototype;P._t = {"CapeOS" : true};CapeOS.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeOS"] === true);};CapeOS.NEW = function() {var v = new CapeOS();return(v.CTOR());};P.CTOR = function() {return(this);};CapeOS.getCurrentPlatformName = function() {return("HTML5");};CapeOS.isWindows = function() {return(false);};CapeOS.isLinux = function() {return(false);};CapeOS.isMacOS = function() {return(false);};CapeOS.isOSX = function() {return(CapeOS.isMacOS());};CapeOS.isAndroid = function() {return(false);};CapeOS.isIOS = function() {return(false);};CapeOS.isSystemType = function(id) {return(false);};CapeOS.openFile = function(file) {return(false);};CapeOS.openURL = function(url) {if(!(url != null)) {return(false);}return(false);};var CapeArray = function() {};var P = CapeArray.prototype;P._t = {"CapeArray" : true};CapeArray.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeArray"] === true);};CapeArray.NEW = function() {var v = new CapeArray();return(v.CTOR());};P.CTOR = function() {return(this);};CapeArray.asObject = function(array) {var v = CapeArray.MyArrayObject.NEW();v.setArray(array);return(v);};CapeArray.isEmpty = function(array) {if(array == null) {return(true);}if(array.length < 1) {return(true);}return(false);};CapeArray.isNotEmpty = function(array) {return(!CapeArray.isEmpty(array));};CapeArray.toVector = function(array) {return(CapeVector.forArray(array));};var P2 = P;CapeArray.MyArrayObject = function() {this.array = null;};var P = CapeArray.MyArrayObject.prototype;P._t = {"CapeArray.MyArrayObject" : true,"CapeArrayObject" : true,"CapeObjectWithSize" : true};CapeArray.MyArrayObject.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeArray.MyArrayObject"] === true);};CapeArray.MyArrayObject.NEW = function() {var v = new CapeArray.MyArrayObject();return(v.CTOR());};P.CTOR = function() {this.array = null;return(this);};P.toArray = function() {return(this.array);};P.getSize = function() {return(this.array.length);};P.getArray = function() {return(this.array);};P.setArray = function(v) {this.array = v;return(this);};P = P2;P2 = null;var CapePosixEnvironment = function() {};var P = CapePosixEnvironment.prototype;P._t = {"CapePosixEnvironment" : true};CapePosixEnvironment.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapePosixEnvironment"] === true);};CapePosixEnvironment.NEW = function() {var v = new CapePosixEnvironment();return(v.CTOR());};P.CTOR = function() {return(this);};CapePosixEnvironment.getpwnam = function(username) {return(null);};CapePosixEnvironment.getpwuid = function(uid) {return(null);};CapePosixEnvironment.setuid = function(gid) {return(false);};CapePosixEnvironment.setgid = function(gid) {return(false);};CapePosixEnvironment.seteuid = function(uid) {return(false);};CapePosixEnvironment.setegid = function(gid) {return(false);};CapePosixEnvironment.getuid = function() {return(-1);};CapePosixEnvironment.geteuid = function() {return(-1);};CapePosixEnvironment.getgid = function() {return(-1);};CapePosixEnvironment.getegid = function() {return(-1);};var P2 = P;CapePosixEnvironment.PosixUser = function() {this.pwName = null;this.pwUid = null;this.pwGid = null;this.pwGecos = null;this.pwDir = null;this.pwShell = null;};var P = CapePosixEnvironment.PosixUser.prototype;P._t = {"CapePosixEnvironment.PosixUser" : true};CapePosixEnvironment.PosixUser.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapePosixEnvironment.PosixUser"] === true);};CapePosixEnvironment.PosixUser.NEW = function() {var v = new CapePosixEnvironment.PosixUser();return(v.CTOR());};P.CTOR = function() {this.pwShell = null;this.pwDir = null;this.pwGecos = null;this.pwGid = 0;this.pwUid = 0;this.pwName = null;return(this);};P.getPwName = function() {return(this.pwName);};P.setPwName = function(v) {this.pwName = v;return(this);};P.getPwUid = function() {return(this.pwUid);};P.setPwUid = function(v) {this.pwUid = v;return(this);};P.getPwGid = function() {return(this.pwGid);};P.setPwGid = function(v) {this.pwGid = v;return(this);};P.getPwGecos = function() {return(this.pwGecos);};P.setPwGecos = function(v) {this.pwGecos = v;return(this);};P.getPwDir = function() {return(this.pwDir);};P.setPwDir = function(v) {this.pwDir = v;return(this);};P.getPwShell = function() {return(this.pwShell);};P.setPwShell = function(v) {this.pwShell = v;return(this);};P = P2;P2 = null;var CapePrintReader = function() {this.reader = null;this.iterator = null;};var P = CapePrintReader.prototype;P._t = {"CapePrintReader" : true,"CapeReader" : true,"CapeLineReader" : true,"CapeClosable" : true};CapePrintReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapePrintReader"] === true);};CapePrintReader.NEW = function() {var v = new CapePrintReader();return(v.CTOR());};P.CTOR = function() {this.iterator = null;this.reader = null;return(this);};CapePrintReader.forReader = function(reader) {if(!(reader != null)) {return(null);}if(CapePrintReader.IS_INSTANCE(reader)) {return(reader);}var v = CapePrintReader.NEW();v.setReader(reader, null);return(v);};CapePrintReader.forReaderAndEncoding = function(reader, encoding) {if(!(reader != null)) {return(null);}if(CapePrintReader.IS_INSTANCE(reader)) {return(reader);}var v = CapePrintReader.NEW();v.setReader(reader, encoding);return(v);};P.setReader = function(reader, encoding) {this.reader = reader;if(reader == null) {this.iterator = null;}else {this.iterator = CapeCharacterIteratorForReader.forReaderWithReader(reader);if(encoding != null) {this.iterator.setEncoding(encoding);}}};P.readLine = function() {if(!(this.iterator != null)) {return(null);}var sb = CapeStringBuilder.NEW();while(true) {var c = this.iterator.getNextChar();if(c.charCodeAt() < 1) {if(sb.count() < 1) {return(null);}break;}if(c === '\r') {continue;}if(c === '\n') {break;}sb.appendCharacter(c);}if(sb.count() < 1) {return("");}return(sb.toString());};P.read = function(buffer) {if(this.reader == null) {return(-1);}return(this.reader.read(buffer));};P.close = function() {var rc = (CapeClosable.IS_INSTANCE(this.reader) ? this.reader : null);if(rc != null) {rc.close();}};var CapePrintWriter = {};CapePrintWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapePrintWriter"] === true);};var CapePrintWriterWrapper = function() {this.writer = null;};var P = CapePrintWriterWrapper.prototype;P._t = {"CapePrintWriterWrapper" : true,"CapeWriter" : true,"CapePrintWriter" : true,"CapeClosable" : true,"CapeFlushableWriter" : true};CapePrintWriterWrapper.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapePrintWriterWrapper"] === true);};CapePrintWriterWrapper.NEW = function() {var v = new CapePrintWriterWrapper();return(v.CTOR());};P.CTOR = function() {this.writer = null;return(this);};CapePrintWriterWrapper.forWriter = function(writer) {if(writer == null) {return(null);}if(CapePrintWriter.IS_INSTANCE(writer)) {return(writer);}var v = CapePrintWriterWrapper.NEW();v.setWriter(writer);return(v);};P.print = function(str) {if(str == null) {return(false);}var buffer = CapeString.toUTF8Buffer(str);if(buffer == null) {return(false);}var sz = CapeBuffer.getSize(buffer);if(this.writer.write(buffer, -1) !== sz) {return(false);}return(true);};P.println = function(str) {return(this.print(str + "\n"));};P.write = function(buf, size) {if(this.writer == null) {return(-1);}return(this.writer.write(buf, size));};P.close = function() {var cw = (CapeClosable.IS_INSTANCE(this.writer) ? this.writer : null);if(cw != null) {cw.close();}};P.flush = function() {var cw = (CapeFlushableWriter.IS_INSTANCE(this.writer) ? this.writer : null);if(cw != null) {cw.flush();}};P.getWriter = function() {return(this.writer);};P.setWriter = function(v) {this.writer = v;return(this);};var CapeProcess = {};CapeProcess.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcess"] === true);};var CapeProcessLauncher = function() {this.file = null;this.params = null;this.env = null;this.cwd = null;this.uid = null;this.gid = null;this.trapSigint = null;this.replaceSelf = null;this.pipePty = null;this.startGroup = null;this.noCmdWindow = null;this.errorBuffer = null;};var P = CapeProcessLauncher.prototype;P._t = {"CapeProcessLauncher" : true,"CapeStringObject" : true};CapeProcessLauncher.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcessLauncher"] === true);};CapeProcessLauncher.forSelf = function() {var exe = CapeCurrentProcess.getExecutableFile();if(!(exe != null)) {return(null);}var v = CapeProcessLauncher.NEW();v.setFile(exe);return(v);};CapeProcessLauncher.forFile = function(file, params) {if(file == null || file.isFile() === false) {return(null);}var v = CapeProcessLauncher.NEW();v.setFile(file);if(params != null) {var n = 0;var m = params.length;for(n = 0 ; n < m ; n++) {var tparam = params[n];var param = null;if(typeof(tparam) === 'string') {param = tparam;}if(param != null) {v.addToParamsWithString(param);}}}return(v);};CapeProcessLauncher.forCommand = function(command, params) {if(CapeString.isEmpty(command)) {return(null);}var file = null;if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(command, CapeEnvironment.getPathSeparator(), 0) >= 0) {file = CapeFile.forPath(command);}else {file = CapeEnvironment.findCommand(command);}return(CapeProcessLauncher.forFile(file, params));};CapeProcessLauncher.forString = function(str) {if(CapeString.isEmpty(str)) {return(null);}var arr = CapeString.quotedStringToVector(str, ' ');if(arr == null || CapeVector.getSize(arr) < 1) {return(null);}var vsz = CapeVector.getSize(arr);var cmd = arr[0];var params = null;var paramCount = vsz - 1;if(paramCount > 0) {params = [];for(var n = 1 ; n < vsz ; n++) {params[n - 1] = arr[n];}}return(CapeProcessLauncher.forCommand(cmd, params));};CapeProcessLauncher.NEW = function() {var v = new CapeProcessLauncher();return(v.CTOR());};P.CTOR = function() {this.errorBuffer = null;this.noCmdWindow = false;this.startGroup = false;this.pipePty = false;this.replaceSelf = false;this.trapSigint = true;this.gid = -1;this.uid = -1;this.cwd = null;this.env = null;this.params = null;this.file = null;this.params = new Array();this.env = new Map();return(this);};P.appendProperParam = function(sb, p) {var noQuotes = false;if(CapeOS.isWindows()) {var rc = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(p, ' ', -1);if(rc < 0) {noQuotes = true;}}sb.appendCharacter(' ');if(noQuotes) {sb.appendString(p);}else {sb.appendCharacter('\"');sb.appendString(p);sb.appendCharacter('\"');}};P.getFullCommandString = function(includeEnv) {var sb = CapeStringBuilder.NEW();if(includeEnv) {var keys = CapeMap.getKeys(this.env);if(keys != null) {var n = 0;var m = keys.length;for(n = 0 ; n < m ; n++) {var key = keys[n];if(key != null) {sb.appendString(key);sb.appendString("=");sb.appendString(this.env.get(key));sb.appendString(" ");}}}}sb.appendString("\"");if(this.file != null) {sb.appendString(this.file.getPath());}sb.appendString("\"");if(this.params != null) {var n2 = 0;var m2 = this.params.length;for(n2 = 0 ; n2 < m2 ; n2++) {var p = this.params[n2];if(p != null) {this.appendProperParam(sb, p);}}}return(sb.toString());};P.toString = function() {return(this.getFullCommandString(true));};P.addToParamsWithString = function(arg) {if(!(arg == null)) {if(this.params == null) {this.params = new Array();}this.params.push(arg);}return(this);};P.addToParamsWithFile = function(file) {if(file != null) {this.addToParamsWithString(file.getPath());}return(this);};P.addToParamsWithVectorString = function(params) {if(params != null) {var n = 0;var m = params.length;for(n = 0 ; n < m ; n++) {var s = params[n];if(s != null) {this.addToParamsWithString(s);}}}return(this);};P.setEnvVariable = function(key, val) {if(!(key == null)) {if(this.env == null) {this.env = new Map();}this.env.set(key, val);}};P.startProcess = function(wait, pipeHandler, withIO) {console.log("[cape.ProcessLauncher.startProcess] (ProcessLauncher.sling:272:2): Not implemented");return(null);};P.start = function() {return(this.startProcess(false, null, false));};CapeProcessLauncher.objectAsCapeProcessWithIO = function(o) {if(CapeProcessWithIO.IS_INSTANCE(o)) {return(o);}return(null);};P.startWithIO = function() {return(CapeProcessLauncher.objectAsCapeProcessWithIO(this.startProcess(false, null, true)));};P.execute = function() {var cp = this.startProcess(true, null, false);if(cp == null) {return(-1);}return(cp.getExitStatus());};P.executeSilent = function() {var cp = this.startProcess(true, CapeProcessLauncher.QuietPipeHandler.NEW(), false);if(cp == null) {return(-1);}return(cp.getExitStatus());};P.executeToStringBuilder = function(output) {var msp = CapeProcessLauncher.MyStringPipeHandler.NEW();msp.setBuilder(output);var cp = this.startProcess(true, msp, false);if(cp == null) {return(-1);}return(cp.getExitStatus());};P.executeToString = function() {var sb = CapeStringBuilder.NEW();if(this.executeToStringBuilder(sb) < 0) {return(null);}return(sb.toString());};P.executeToBuffer = function() {var ph = CapeProcessLauncher.MyBufferPipeHandler.NEW();var cp = this.startProcess(true, ph, false);if(cp == null) {return(null);}return(ph.getData());};P.executeToPipe = function(pipeHandler) {var cp = this.startProcess(true, pipeHandler, false);if(cp == null) {return(-1);}return(cp.getExitStatus());};P.getFile = function() {return(this.file);};P.setFile = function(v) {this.file = v;return(this);};P.getParams = function() {return(this.params);};P.setParams = function(v) {this.params = v;return(this);};P.getEnv = function() {return(this.env);};P.setEnv = function(v) {this.env = v;return(this);};P.getCwd = function() {return(this.cwd);};P.setCwd = function(v) {this.cwd = v;return(this);};P.getUid = function() {return(this.uid);};P.setUid = function(v) {this.uid = v;return(this);};P.getGid = function() {return(this.gid);};P.setGid = function(v) {this.gid = v;return(this);};P.getTrapSigint = function() {return(this.trapSigint);};P.setTrapSigint = function(v) {this.trapSigint = v;return(this);};P.getReplaceSelf = function() {return(this.replaceSelf);};P.setReplaceSelf = function(v) {this.replaceSelf = v;return(this);};P.getPipePty = function() {return(this.pipePty);};P.setPipePty = function(v) {this.pipePty = v;return(this);};P.getStartGroup = function() {return(this.startGroup);};P.setStartGroup = function(v) {this.startGroup = v;return(this);};P.getNoCmdWindow = function() {return(this.noCmdWindow);};P.setNoCmdWindow = function(v) {this.noCmdWindow = v;return(this);};P.getErrorBuffer = function() {return(this.errorBuffer);};P.setErrorBuffer = function(v) {this.errorBuffer = v;return(this);};var P2 = P;CapeProcessLauncher.MyStringPipeHandler = function() {this.builder = null;this.encoding = null;};var P = CapeProcessLauncher.MyStringPipeHandler.prototype;P._t = {"CapeProcessLauncher.MyStringPipeHandler" : true,"CapeBufferDataReceiver" : true};CapeProcessLauncher.MyStringPipeHandler.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcessLauncher.MyStringPipeHandler"] === true);};CapeProcessLauncher.MyStringPipeHandler.NEW = function() {var v = new CapeProcessLauncher.MyStringPipeHandler();return(v.CTOR());};P.CTOR = function() {this.encoding = null;this.builder = null;this.encoding = "UTF-8";return(this);};P.onBufferData = function(data, size) {if(this.builder == null || data == null || size < 1) {return(false);}var str = CapeString.forBuffer(CapeBuffer.getSubBuffer(data, 0, size, false), this.encoding);if(!(str != null)) {return(false);}this.builder.appendString(str);return(true);};P.getBuilder = function() {return(this.builder);};P.setBuilder = function(v) {this.builder = v;return(this);};P.getEncoding = function() {return(this.encoding);};P.setEncoding = function(v) {this.encoding = v;return(this);};P = P2;P2 = null;var P2 = P;CapeProcessLauncher.MyBufferPipeHandler = function() {this.data = null;};var P = CapeProcessLauncher.MyBufferPipeHandler.prototype;P._t = {"CapeProcessLauncher.MyBufferPipeHandler" : true,"CapeBufferDataReceiver" : true};CapeProcessLauncher.MyBufferPipeHandler.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcessLauncher.MyBufferPipeHandler"] === true);};CapeProcessLauncher.MyBufferPipeHandler.NEW = function() {var v = new CapeProcessLauncher.MyBufferPipeHandler();return(v.CTOR());};P.CTOR = function() {this.data = null;return(this);};P.onBufferData = function(newData, size) {this.data = CapeBuffer.append(this.data, newData, size);return(true);};P.getData = function() {return(this.data);};P.setData = function(v) {this.data = v;return(this);};P = P2;P2 = null;var P2 = P;CapeProcessLauncher.QuietPipeHandler = function() {};var P = CapeProcessLauncher.QuietPipeHandler.prototype;P._t = {"CapeProcessLauncher.QuietPipeHandler" : true,"CapeBufferDataReceiver" : true};CapeProcessLauncher.QuietPipeHandler.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcessLauncher.QuietPipeHandler"] === true);};CapeProcessLauncher.QuietPipeHandler.NEW = function() {var v = new CapeProcessLauncher.QuietPipeHandler();return(v.CTOR());};P.CTOR = function() {return(this);};P.onBufferData = function(data, size) {return(true);};P = P2;P2 = null;var CapeProcessWithIO = {};CapeProcessWithIO.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeProcessWithIO"] === true);};var CapeQueryString = function() {};var P = CapeQueryString.prototype;P._t = {"CapeQueryString" : true};CapeQueryString.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeQueryString"] === true);};CapeQueryString.NEW = function() {var v = new CapeQueryString();return(v.CTOR());};P.CTOR = function() {return(this);};CapeQueryString.parse = function(queryString) {var v = new Map();var array = CapeString.split(queryString, '&', 0);if(array != null) {var n = 0;var m = array.length;for(n = 0 ; n < m ; n++) {var qs = array[n];if(qs != null) {if(CapeString.isEmpty(qs)) {continue;}if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(qs, '=', 0) < 0) {CapeMap.set(v, qs, null);continue;}var qsps = CapeString.split(qs, '=', 2);var key = qsps[0];var val = qsps[1];if(val == null) {val = "";}if(CapeString.isEmpty(key) === false) {CapeMap.set(v, key, CapeURLDecoder.decode(val));}}}}return(v);};var CapeQueue = function() {this.data = null;};var P = CapeQueue.prototype;P._t = {"CapeQueue" : true};CapeQueue.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeQueue"] === true);};CapeQueue.NEW = function() {var v = new CapeQueue();return(v.CTOR());};P.CTOR = function() {this.data = null;this.data = new Array();return(this);};P.clear = function() {this.data = new Array();};P.push = function(o) {CapeVector.append(this.data, o);};P.pop = function() {var sz = CapeVector.getSize(this.data);if(sz < 1) {return(null);}var v = CapeVector.getAt(this.data, 0);CapeVector.remove(this.data, 0);return(v);};P.peek = function() {var sz = CapeVector.getSize(this.data);if(sz < 1) {return(null);}return(CapeVector.getAt(this.data, 0));};P.isEmpty = function() {return(this.getSize() < 1);};P.getSize = function() {return(CapeVector.getSize(this.data));};P.getData = function() {return(this.data);};P.setData = function(v) {this.data = v;return(this);};var CapeRandom = function() {};var P = CapeRandom.prototype;CapeRandom.instance = null;P._t = {"CapeRandom" : true};CapeRandom.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeRandom"] === true);};CapeRandom.getSharedInstance = function() {if(!(CapeRandom.instance != null)) {CapeRandom.instance = CapeRandom.NEW();}return(CapeRandom.instance);};CapeRandom.NEW = function() {var v = new CapeRandom();return(v.CTOR());};P.CTOR = function() {return(this);};CapeRandom.NEWWithSigned64bitInteger = function(seed) {var v = new CapeRandom();return(v.CTORWithSigned64bitInteger(seed));};P.CTORWithSigned64bitInteger = function(seed) {this.setSeed(seed);return(this);};P.setSeed = function(seed) {};P.nextBoolean = function() {if(this.nextInt() % 2 === 0) {return(false);}return(true);};P.nextInt = function() {return(this.nextIntWithSigned32bitIntegerAndSigned32bitInteger(~~((-CapeMath.pow(2, 31))), ~~((CapeMath.pow(2, 31))) - 1));};P.nextIntWithSigned32bitInteger = function(n) {return(Math.floor((Math.random() * n) + 1));};P.nextIntWithSigned32bitIntegerAndSigned32bitInteger = function(s, e) {return(Math.floor(Math.random() * (e - s) + s));};P.nextBytes = function(buf) {var sz = buf.length;for(var n = 0 ; n < sz ; n++) {buf[n] = this.nextIntWithSigned32bitIntegerAndSigned32bitInteger(-127, 128);}};P.nextDouble = function() {return(Math.random());};P.nextFloat = function() {return(Math.random().toFixed(8));};var CapeSeekableReader = {};CapeSeekableReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeSeekableReader"] === true);};var CapeRunnable = {};CapeRunnable.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeRunnable"] === true);};var CapeBufferReader = function() {this.buffer = null;this.pos = null;};var P = CapeBufferReader.prototype;P._t = {"CapeBufferReader" : true,"CapeReader" : true,"CapeSizedReader" : true,"CapeSeekableReader" : true};CapeBufferReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBufferReader"] === true);};CapeBufferReader.NEW = function() {var v = new CapeBufferReader();return(v.CTOR());};P.CTOR = function() {this.pos = 0;this.buffer = null;return(this);};CapeBufferReader.forBuffer = function(buf) {return(CapeBufferReader.NEW().setBuffer(buf));};P.setCurrentPosition = function(n) {this.pos = n;return(true);};P.getCurrentPosition = function() {return(this.pos);};P.getBuffer = function() {return(this.buffer);};P.setBuffer = function(buf) {this.buffer = buf;this.pos = 0;return(this);};P.rewind = function() {this.pos = 0;};P.getSize = function() {if(this.buffer == null) {return(0);}return(this.buffer.byteLength);};P.read = function(buf) {if(buf == null || this.buffer == null) {return(0);}var buffersz = this.buffer.byteLength;if(this.pos >= buffersz) {return(0);}var size = buf.byteLength;if(size > buffersz - this.pos) {size = buffersz - this.pos;}CapeBuffer.copyFrom(buf, this.buffer, this.pos, 0, size);this.pos += size;return(size);};P.getPos = function() {return(this.pos);};P.setPos = function(v) {this.pos = v;return(this);};var CapeFileWriter = {};CapeFileWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileWriter"] === true);};var CapeFileReader = {};CapeFileReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeFileReader"] === true);};var CapeStack = function() {this.data = null;};var P = CapeStack.prototype;P._t = {"CapeStack" : true};CapeStack.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStack"] === true);};CapeStack.NEW = function() {var v = new CapeStack();return(v.CTOR());};P.CTOR = function() {this.data = null;this.data = new Array();return(this);};P.push = function(o) {CapeVector.append(this.data, o);};P.pop = function() {var sz = CapeVector.getSize(this.data);if(sz < 1) {return(null);}var v = CapeVector.getAt(this.data, sz - 1);CapeVector.remove(this.data, sz - 1);return(v);};P.peek = function() {var sz = CapeVector.getSize(this.data);if(sz < 1) {return(null);}return(CapeVector.getAt(this.data, sz - 1));};P.isEmpty = function() {return(this.getSize() < 1);};P.getSize = function() {return(CapeVector.getSize(this.data));};P.getData = function() {return(this.data);};P.setData = function(v) {this.data = v;return(this);};var CapeStackTrace = function() {};var P = CapeStackTrace.prototype;P._t = {"CapeStackTrace" : true,"CapeStringObject" : true};CapeStackTrace.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStackTrace"] === true);};CapeStackTrace.NEW = function() {var v = new CapeStackTrace();return(v.CTOR());};P.CTOR = function() {return(this);};P.toString = function() {return(null);};var CapeStaticFileDescriptor = function() {this.fileDescriptor = null;};var P = CapeStaticFileDescriptor.prototype;P._t = {"CapeStaticFileDescriptor" : true,"CapeFileDescriptor" : true};CapeStaticFileDescriptor.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStaticFileDescriptor"] === true);};CapeStaticFileDescriptor.NEW = function() {var v = new CapeStaticFileDescriptor();return(v.CTOR());};P.CTOR = function() {this.fileDescriptor = 0;return(this);};CapeStaticFileDescriptor.forFileDescriptor = function(fd) {return(CapeStaticFileDescriptor.NEW().setFileDescriptor(fd));};P.getFileDescriptor = function() {return(this.fileDescriptor);};P.setFileDescriptor = function(v) {this.fileDescriptor = v;return(this);};var CapeString = function() {};var P = CapeString.prototype;P._t = {"CapeString" : true};CapeString.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeString"] === true);};CapeString.NEW = function() {var v = new CapeString();return(v.CTOR());};P.CTOR = function() {return(this);};CapeString.asStringWithObject = function(obj) {if(!(obj != null)) {return(null);}if(typeof(obj) === 'string') {return(obj);}if(CapeStringObject.IS_INSTANCE(obj)) {return(obj.toString());}if(CapeIntegerObject.IS_INSTANCE(obj)) {return(CapeString.forInteger(obj.toInteger()));}if(CapeLongIntegerObject.IS_INSTANCE(obj)) {return(CapeString.forLongInteger(obj.toLong()));}if(CapeDoubleObject.IS_INSTANCE(obj)) {return(CapeString.forDouble(obj.toDouble()));}if(CapeBooleanObject.IS_INSTANCE(obj)) {return(CapeString.forBoolean(obj.toBoolean()));}if(CapeCharacterObject.IS_INSTANCE(obj)) {return(CapeString.forCharacter(obj.toCharacter()));}if(obj instanceof ArrayBuffer) {return(CapeString.forBufferHex(obj));}if(CapeBufferObject.IS_INSTANCE(obj)) {var v = obj.toBuffer();if(!(v != null)) {return("");}return(CapeString.forBufferHex(v));}var js = CapeJSONEncoder.encode(obj, true);if(js != null) {return(js);}return(null);};CapeString.asStringWithSignedInteger = function(value) {return(CapeString.forInteger(value));};CapeString.asStringWithDouble = function(value) {return(CapeString.forDouble(value));};CapeString.asStringWithBuffer = function(value) {return(CapeString.forUTF8Buffer(value));};CapeString.asStringWithBoolean = function(value) {return(CapeString.forBoolean(value));};CapeString.asStringWithCharacter = function(value) {return(CapeString.forCharacter(value));};CapeString.asStringWithFloat = function(value) {return(CapeString.forFloat(value));};CapeString.isEmpty = function(str) {if(!(str != null)) {return(true);}if(CapeString.getLength(str) < 1) {return(true);}return(false);};CapeString.isNotEmpty = function(str) {return(!CapeString.isEmpty(str));};CapeString.forBuffer = function(data, encoding) {if(!(data != null)) {return(null);}if(CapeString.equalsIgnoreCase("UTF8", encoding) || CapeString.equalsIgnoreCase("UTF-8", encoding)) {return(CapeString.forUTF8Buffer(data));}if(CapeString.equalsIgnoreCase("UCS2", encoding) || CapeString.equalsIgnoreCase("UCS-2", encoding)) {return(CapeString.forUCS2Buffer(data));}if(CapeString.equalsIgnoreCase("ASCII", encoding)) {return(CapeString.forASCIIBuffer(data));}return(null);};CapeString.forASCIIBuffer = function(data) {if(!(data != null)) {return(null);}var sb = CapeStringBuilder.NEW();var uintArray = null;uintArray = new Uint8Array(data);for(var i = 0 ; i < uintArray.length ; i++) {sb.appendString(String.fromCharCode(uintArray[i]));}return(sb.toString());};CapeString.forUTF8Buffer = function(data) {if(!(data != null)) {return(null);}var sb = CapeStringBuilder.NEW();var ci = CapeCharacterIteratorForBuffer.forBuffer(data);ci.moveToNextChar();while(true) {if(ci.hasEnded()) {break;}var c = ci.getCurrentChar();sb.appendCharacter(c);ci.moveToNextChar();}return(sb.toString());};CapeString.forUCS2Buffer = function(data) {if(data == null) {return(null);}if(data == null) {return(null);}return(data.toString("ucs2"));};CapeString.forCharArray = function(chars, offset, count) {if(chars == null) {return(null);}var str = null;if(offset < chars.length && count <= chars.length && offset < count) {str = "";for(var ind = offset; ind < count; ind++) {str += chars[ind];}}return(str);};CapeString.forBoolean = function(vv) {if(vv === true) {return("true");}return("false");};CapeString.forInteger = function(vv) {return((~~vv).toString());};CapeString.forLongInteger = function(vv) {return(vv.toString());};CapeString.formatNumberString = function(vv, delimiter) {if(!(vv != null)) {return(null);}var it = CapeString.iterate(vv);if(!(it != null)) {return(null);}var rr = CapeString.getLength(vv);var sb = CapeStringBuilder.NEW();while(true) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}sb.appendCharacter(c);rr--;if(rr < 1) {break;}if(rr % 3 === 0) {sb.appendCharacter(delimiter);}}return(sb.toString());};CapeString.formatInteger = function(vv, delimiter) {return(CapeString.formatNumberString(CapeString.forInteger(vv), delimiter));};CapeString.formatLongInteger = function(vv, delimiter) {return(CapeString.formatNumberString(CapeString.forLongInteger(vv), delimiter));};CapeString.forIntegerWithPadding = function(vv, _length, paddingString) {var r = CapeString.forInteger(vv);if(!(r != null)) {return(null);}var ll = CapeString.getLength(r);if(ll >= _length) {return(r);}var ps = paddingString;if(ps == null) {ps = "0";}var sb = CapeStringBuilder.NEW();var n = 0;for(n = 0 ; n < _length - ll ; n++) {sb.appendString(ps);}sb.appendString(r);return(sb.toString());};CapeString.forIntegerHex = function(vv, minlength) {var v = null;v = (~~vv).toString(16);if(!(v != null)) {return(null);}if(minlength > 0) {while(CapeString.getLength(v) < minlength) {v = "0" + v;}}return(v);};CapeString.forBufferHex = function(buffer) {var size = CapeBuffer.getSize(buffer);if(!(size !== 0)) {return(null);}var sb = CapeStringBuilder.NEW();var p = 0;while(p < size) {var s = CapeString.forIntegerHex(CapeBuffer.getByte(buffer, p), 0);if(CapeString.getLength(s) < 2) {sb.appendCharacter('0');}sb.appendString(s);p++;}return(sb.toString());};CapeString.forCharacter = function(vv) {return(vv.toString());};CapeString.forFloat = function(vv) {return(vv.toString());};CapeString.forDouble = function(vv) {return(vv.toString());};CapeString.toUTF8Buffer = function(str) {return(CapeString.toBuffer(str, "UTF8"));};CapeString.toBuffer = function(str, charset) {if(!(str != null)) {return(null);}if(!(charset != null)) {return(null);}var bytes = CapeString.getBytesUnsignedWithStringAndString(str, charset);if(!(bytes != null)) {return(null);}var c = bytes.length;var bb = new ArrayBuffer(c);var n = 0;for(n = 0 ; n < c ; n++) {CapeBuffer.setByte(bb, n, bytes[n]);}return(bb);};CapeString.getBytesUnsignedWithString = function(str) {return(CapeString.getBytesUnsignedWithStringAndString(str, "UTF-8"));};CapeString.getBytesUnsignedWithStringAndString = function(str, charset) {if(!(str != null)) {return(null);}if(!(charset != null)) {return(null);}var uintArray = null;if(CapeString.equalsIgnoreCase(charset, "UTF-8") || CapeString.equalsIgnoreCase(charset, "UTF8")) {uintArray = [];for(var i = 0; i < str.length; i++) {var cc = str.charCodeAt(i);if(cc < 0x80) {uintArray.push(cc);}else if(cc < 0x800) {uintArray.push(0xc0 | (cc >> 6));uintArray.push(0x80 | (cc & 0x3f));}else if(cc < 0xd800 || cc >= 0xe000) {uintArray.push(0xe0 | (cc >> 12));uintArray.push(0x80 | ((cc >> 6) & 0x3f));uintArray.push(0x80 | (cc & 0x3f));}else {i++;cc = (((cc & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff)) + 0x10000;uintArray.push(0xf0 | (cc >> 18));uintArray.push(0x80 | ((cc >> 12) & 0x3f));uintArray.push(0x80 | ((cc >> 6) & 0x3f));uintArray.push(0x80 | (cc & 0x3f));}}}else if(CapeString.equalsIgnoreCase(charset, "UTF-16") || CapeString.equalsIgnoreCase(charset, "UTF16")) {uintArray = new Uint8Array(str.length);for(var c = 0; c < str.length; c++) {uintArray[c] = str.charCodeAt(c);}}return(uintArray);};CapeString.getBytesSignedWithString = function(str) {return(CapeString.getBytesSignedWithStringAndString(str, "UTF-8"));};CapeString.getBytesSignedWithStringAndString = function(str, charset) {if(str == null || charset == null) {return(null);}var intArray = null;intArray = new Int8Array(str.length);for(var c = 0; c < str.length; c++) {intArray[c] = str.charCodeAt(c);}return(intArray);};CapeString.getLength = function(str) {if(str == null) {return(0);}return(str.length);};CapeString.appendStringAndString = function(str1, str2) {if(str1 == null) {return(str2);}if(str2 == null) {return(str1);}return(str1.concat(str2));};CapeString.appendStringAndSignedInteger = function(str, intvalue) {return(CapeString.appendStringAndString(str, CapeString.forInteger(intvalue)));};CapeString.appendStringAndCharacter = function(str, charvalue) {return(CapeString.appendStringAndString(str, CapeString.forCharacter(charvalue)));};CapeString.appendStringAndFloat = function(str, floatvalue) {return(CapeString.appendStringAndString(str, CapeString.forFloat(floatvalue)));};CapeString.appendStringAndDouble = function(str, doublevalue) {return(CapeString.appendStringAndString(str, CapeString.forDouble(doublevalue)));};CapeString.appendStringAndBoolean = function(str, boolvalue) {return(CapeString.appendStringAndString(str, CapeString.forBoolean(boolvalue)));};CapeString.toLowerCase = function(str) {if(!(str != null)) {return(null);}return(str.toLowerCase());};CapeString.toUpperCase = function(str) {if(!(str != null)) {return(null);}return(str.toUpperCase());};CapeString.capitalize = function(str) {if(!(str != null)) {return(null);}var c = CapeString.getChar(str, 0);if(CapeCharacter.isLowercaseAlpha(c) === false) {return(str);}return((CapeString.forCharacter(CapeCharacter.toUppercase(c))) + (CapeString.getSubStringWithStringAndSignedInteger(str, 1)));};CapeString.charAt = function(str, index) {return(CapeString.getChar(str, index));};CapeString.getChar = function(str, index) {if(str == null) {return(String.fromCharCode(0));}return(str == null || index < 0 || index >= str.length ? 0 : str[index]);};CapeString.equals = function(str1, str2) {if(!(str1 != null && str2 != null)) {return(false);}return(str1 === str2);};CapeString.isNotEqual = function(str1, str2) {return(!CapeString.equals(str1, str2));};CapeString.equalsIgnoreCase = function(str1, str2) {if(!(str1 != null && str2 != null)) {return(false);}return(str1.toLowerCase() === str2.toLowerCase());};CapeString.compare = function(str1, str2) {if(str1 == null || str2 == null) {return(0);}return(str1.localeCompare(str2));};CapeString.compareToIgnoreCase = function(str1, str2) {if(str1 == null || str2 == null) {return(0);}return(str1.toLowerCase().localeCompare(str2.toLowerCase()));};CapeString.getHashCode = function(str) {if(str == null) {return(0);}var hash = 0;if(str != null) {for(var i = 0; i < str.length; i++) {var ch = str.charCodeAt(i);hash = ((hash << 5) - hash) + ch;hash = hash & hash;}}return(hash);};CapeString.indexOfWithStringAndCharacterAndSignedInteger = function(str, c, start) {return(CapeString.getIndexOfWithStringAndCharacterAndSignedInteger(str, c, start));};CapeString.getIndexOfWithStringAndCharacterAndSignedInteger = function(str, c, start) {if(str == null) {return(-1);}return(str.indexOf(c, start));};CapeString.indexOfWithStringAndStringAndSignedInteger = function(str, s, start) {return(CapeString.getIndexOfWithStringAndStringAndSignedInteger(str, s, start));};CapeString.getIndexOfWithStringAndStringAndSignedInteger = function(str, s, start) {if(str == null) {return(-1);}return(str.indexOf(s, start));};CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger = function(str, c, start) {return(CapeString.getLastIndexOfWithStringAndCharacterAndSignedInteger(str, c, start));};CapeString.getLastIndexOfWithStringAndCharacterAndSignedInteger = function(str, c, start) {if(str == null) {return(-1);}if(start <= 0) {return(str.lastIndexOf(c));}return(str.lastIndexOf(c, start));};CapeString.lastIndexOfWithStringAndStringAndSignedInteger = function(str, s, start) {return(CapeString.getLastIndexOfWithStringAndStringAndSignedInteger(str, s, start));};CapeString.getLastIndexOfWithStringAndStringAndSignedInteger = function(str, s, start) {if(str == null) {return(-1);}if(start <= 0) {return(str.lastIndexOf(s));}return(str.lastIndexOf(s, start));};CapeString.subStringWithStringAndSignedInteger = function(str, start) {return(CapeString.getSubStringWithStringAndSignedInteger(str, start));};CapeString.getSubStringWithStringAndSignedInteger = function(str, start) {if(!(str != null)) {return(null);}if(start >= CapeString.getLength(str)) {return("");}var ss = start;if(ss < 0) {ss = 0;}return(str.substring(ss));};CapeString.subStringWithStringAndSignedIntegerAndSignedInteger = function(str, start, _length) {return(CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(str, start, _length));};CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger = function(str, start, _length) {if(!(str != null)) {return(null);}var strl = CapeString.getLength(str);if(start >= strl) {return("");}var ss = start;if(ss < 0) {ss = 0;}var ll = _length;if(ll > strl - start) {ll = strl - start;}return(str.substring(ss, ss+ll));};CapeString.contains = function(str1, str2) {if(!(str1 != null)) {return(false);}if(!(str2 != null)) {return(false);}var x = false;if(!str1.includes) {x = str1.indexOf(str2) !== -1;}else {x = str1.includes(str2);}return(x);};CapeString.startsWithWithStringAndStringAndSignedInteger = function(str1, str2, offset) {if(!(str1 != null)) {return(false);}if(!(str2 != null)) {return(false);}var nstr = null;if(offset > 0) {nstr = CapeString.getSubStringWithStringAndSignedInteger(str1, offset);}else {nstr = str1;}var x = false;if(!nstr.startsWith) {x = nstr.indexOf(str2) === 0;}else {x = nstr.startsWith(str2);}return(x);};CapeString.startsWithWithStringAndArrayOfObject = function(str, strings) {if(strings != null) {var n = 0;var m = strings.length;for(n = 0 ; n < m ; n++) {var tstr2 = strings[n];var str2 = null;if(typeof(tstr2) === 'string') {str2 = tstr2;}if(str2 != null) {if(CapeString.startsWithWithStringAndStringAndSignedInteger(str, str2, 0)) {return(str2);}}}}return(null);};CapeString.startsWithIgnoreCaseWithStringAndStringAndSignedInteger = function(str1, str2, offset) {return(CapeString.startsWithWithStringAndStringAndSignedInteger(CapeString.toLowerCase(str1), CapeString.toLowerCase(str2), offset));};CapeString.startsWithIgnoreCaseWithStringAndArrayOfObject = function(str, strings) {var ostr = CapeString.toLowerCase(str);if(strings != null) {var n = 0;var m = strings.length;for(n = 0 ; n < m ; n++) {var tstr2 = strings[n];var str2 = null;if(typeof(tstr2) === 'string') {str2 = tstr2;}if(str2 != null) {if(CapeString.startsWithWithStringAndStringAndSignedInteger(ostr, CapeString.toLowerCase(str2), 0)) {return(str2);}}}}return(null);};CapeString.endsWithWithStringAndString = function(str1, str2) {if(!(str1 != null)) {return(false);}if(!(str2 != null)) {return(false);}var x = false;if(!str1.endsWith) {x = str1.indexOf(str2) === str1.length - str2.length;}else {x = str1.endsWith(str2);}return(x);};CapeString.endsWithWithStringAndArrayOfObject = function(str, strings) {if(strings != null) {var n = 0;var m = strings.length;for(n = 0 ; n < m ; n++) {var tstr2 = strings[n];var str2 = null;if(typeof(tstr2) === 'string') {str2 = tstr2;}if(str2 != null) {if(CapeString.endsWithWithStringAndString(str, str2)) {return(str2);}}}}return(null);};CapeString.endsWithIgnoreCaseWithStringAndString = function(str1, str2) {return(CapeString.endsWithWithStringAndString(CapeString.toLowerCase(str1), CapeString.toLowerCase(str2)));};CapeString.endsWithIgnoreCaseWithStringAndArrayOfObject = function(str, strings) {var ostr = CapeString.toLowerCase(str);if(strings != null) {var n = 0;var m = strings.length;for(n = 0 ; n < m ; n++) {var tstr2 = strings[n];var str2 = null;if(typeof(tstr2) === 'string') {str2 = tstr2;}if(str2 != null) {if(CapeString.endsWithWithStringAndString(ostr, CapeString.toLowerCase(str2))) {return(str2);}}}}return(null);};CapeString.strip = function(str) {if(!(str != null)) {return(null);}return(str.trim());};CapeString.stripFromEnd = function(str) {if(!(str != null)) {return(null);}var ll = CapeString.getLength(str);if(ll < 1) {return(str);}var n = 0;while(true) {var c = CapeString.getChar(str, ll - 1 - n);if(c === ' ' || c === '\t' || c === '\r' || c === '\n') {n++;}else {break;}}if(n < 1) {return(str);}return(CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(str, 0, ll - n));};CapeString.stripFromStart = function(str) {if(!(str != null)) {return(null);}var n = 0;while(true) {var c = CapeString.getChar(str, n);if(c === ' ' || c === '\t' || c === '\r' || c === '\n') {n++;}else {break;}}if(n < 1) {return(str);}return(CapeString.getSubStringWithStringAndSignedInteger(str, n));};CapeString.replaceStringAndCharacterAndCharacter = function(str, oldChar, newChar) {if(!(str != null)) {return(null);}return(str.replace(oldChar, newChar));};CapeString.replaceStringAndStringAndString = function(str, target, replacement) {if(!(str != null)) {return(null);}return(str.replace(target, replacement));};CapeString.toCharArray = function(str) {if(!(str != null)) {return(null);}return(str);};CapeString.split = function(str, delim, max) {var v = new Array();if(str == null) {return(v);}var n = 0;while(true) {if(max > 0 && CapeVector.getSize(v) >= max - 1) {CapeVector.append(v, CapeString.getSubStringWithStringAndSignedInteger(str, n));break;}var x = CapeString.indexOfWithStringAndCharacterAndSignedInteger(str, delim, n);if(x < 0) {CapeVector.append(v, CapeString.getSubStringWithStringAndSignedInteger(str, n));break;}CapeVector.append(v, CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(str, n, x - n));n = x + 1;}return(v);};CapeString.isInteger = function(str) {if(!(str != null)) {return(false);}var it = CapeString.iterate(str);if(!(it != null)) {return(false);}while(true) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}if(c.charCodeAt() < '0'.charCodeAt() || c.charCodeAt() > '9'.charCodeAt()) {return(false);}}return(true);};CapeString.toInteger = function(str) {if(CapeString.isEmpty(str)) {return(0);}var v = 0;var m = CapeString.getLength(str);var n = 0;var negative = false;for(n = 0 ; n < m ; n++) {var c = CapeString.charAt(str, n);if(n === 0 && c === '-') {negative = true;continue;}if(c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {v = v * 10;v += (c.charCodeAt() - '0'.charCodeAt());}else {break;}}if(negative) {v *= -1;}return(v);};CapeString.toLong = function(str) {if(CapeString.isEmpty(str)) {return(0);}var v = 0;var m = CapeString.getLength(str);var n = 0;var negative = false;for(n = 0 ; n < m ; n++) {var c = CapeString.charAt(str, n);if(n === 0 && c === '-') {negative = true;continue;}if(c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {v = v * 10;v += (c.charCodeAt() - '0'.charCodeAt());}else {break;}}if(negative) {v *= -1;}return(v);};CapeString.toIntegerFromHex = function(str) {if(CapeString.isEmpty(str)) {return(0);}var v = 0;var m = CapeString.getLength(str);var n = 0;for(n = 0 ; n < m ; n++) {var c = CapeString.charAt(str, n);if(c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {v = v * 16;v += (c.charCodeAt() - '0'.charCodeAt());}else if(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'f'.charCodeAt()) {v = v * 16;v += (10 + c.charCodeAt() - 'a'.charCodeAt());}else if(c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'F'.charCodeAt()) {v = v * 16;v += (10 + c.charCodeAt() - 'A'.charCodeAt());}else {break;}}return(v);};CapeString.toDouble = function(str) {if(str == null) {return(0.0);}var v = 0.0;v = parseFloat(str);if (isNaN(v)) {v =  0.0;}return(v);};CapeString.iterate = function(string) {return(CapeCharacterIteratorForString.forString(string));};CapeString.reverse = function(string) {if(!(string != null)) {return(null);}var sb = CapeStringBuilder.NEW();var it = CapeString.iterate(string);var c = ' ';while((c = it.getNextChar()).charCodeAt() > 0) {sb.insertSignedIntegerAndCharacter(0, c);}return(sb.toString());};CapeString.iterateReverse = function(string) {return(CapeString.iterate(CapeString.reverse(string)));};CapeString.padToLength = function(string, _length, align, paddingCharacter) {var ll = 0;if(string == null) {ll = 0;}else {ll = CapeString.getLength(string);}if(ll >= _length) {return(string);}var add = _length - ll;var n = 0;var sb = CapeStringBuilder.NEW();if(align < 0) {sb.appendString(string);for(n = 0 ; n < add ; n++) {sb.appendCharacter(paddingCharacter);}}else if(align === 0) {var ff = add / 2;var ss = add - ff;for(n = 0 ; n < ff ; n++) {sb.appendCharacter(paddingCharacter);}sb.appendString(string);for(n = 0 ; n < ss ; n++) {sb.appendCharacter(paddingCharacter);}}else {for(n = 0 ; n < add ; n++) {sb.appendCharacter(paddingCharacter);}sb.appendString(string);}return(sb.toString());};CapeString.quotedStringToVector = function(str, delim) {var v = new Array();if(str == null) {return(v);}var dquote = false;var quote = false;var sb = null;var c = ' ';var it = CapeString.iterate(str);while((c = it.getNextChar()).charCodeAt() > 0) {if(c === '\"' && quote === false) {dquote = !dquote;}else if(c === '\'' && dquote === false) {quote = !quote;}else if(quote === false && dquote === false && c === delim) {if(sb != null) {var r = sb.toString();if(r == null) {r = "";}v.push(r);}sb = null;}else {if(sb == null) {sb = CapeStringBuilder.NEW();}sb.appendCharacter(c);}if((quote === true || dquote === true) && sb == null) {sb = CapeStringBuilder.NEW();}}if(sb != null) {var r = sb.toString();if(r == null) {r = "";}v.push(r);}return(v);};CapeString.quotedStringToMap = function(str, delim) {var v = new Map();var vector = CapeString.quotedStringToVector(str, delim);if(vector != null) {var n = 0;var m = vector.length;for(n = 0 ; n < m ; n++) {var c = vector[n];if(c != null) {var sp = CapeString.split(c, '=', 2);var key = sp[0];var val = sp[1];if(CapeString.isEmpty(key) === false) {v.set(key, val);}}}}return(v);};CapeString.combine = function(strings, delim, unique) {var sb = CapeStringBuilder.NEW();var flags = null;if(unique) {flags = new Map();}if(strings != null) {var n = 0;var m = strings.length;for(n = 0 ; n < m ; n++) {var o = strings[n];if(o != null) {if(o == null) {continue;}if(flags != null) {if(CapeMap.getMapAndK(flags, o) != null) {continue;}CapeMap.set(flags, o, "true");}if(delim.charCodeAt() > 0 && sb.count() > 0) {sb.appendCharacter(delim);}sb.appendString(o);}}}return(sb.toString());};CapeString.validateCharacters = function(str, validator) {if(!(str != null)) {return(false);}var it = CapeString.iterate(str);if(!(it != null)) {return(false);}while(true) {var c = it.getNextChar();if(c.charCodeAt() < 1) {break;}if(validator(c) === false) {return(false);}}return(true);};var CapeStringBuilder = function() {this.builder = null;};var P = CapeStringBuilder.prototype;P._t = {"CapeStringBuilder" : true,"CapeStringObject" : true};CapeStringBuilder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringBuilder"] === true);};CapeStringBuilder.forString = function(initial) {var v = CapeStringBuilder.NEW();v.appendString(initial);return(v);};CapeStringBuilder.dup = function(initial) {var v = CapeStringBuilder.NEW();if(initial != null) {v.appendString(initial.toString());}return(v);};CapeStringBuilder.NEW = function() {var v = new CapeStringBuilder();return(v.CTOR());};P.CTOR = function() {this.builder = null;this.initialize();return(this);};P.initialize = function() {this.builder = new String();};P.clear = function() {this.initialize();};P.count = function() {return(this.builder.length);};P.appendSignedInteger = function(c) {return(this.appendString(CapeString.forInteger(c)));};P.appendCharacter = function(c) {if(c === 0) {return(this);}return(this.appendString(CapeString.forCharacter(c)));};P.appendDouble = function(c) {return(this.appendString(CapeString.forDouble(c)));};P.appendFloat = function(c) {return(this.appendString(CapeString.forFloat(c)));};P.appendString = function(str) {if(str == null) {return(this);}this.builder += str;return(this);};P.insertSignedIntegerAndSignedInteger = function(index, c) {return(this.insertSignedIntegerAndString(index, CapeString.forInteger(c)));};P.insertSignedIntegerAndCharacter = function(index, c) {if(c === 0) {return(this);}return(this.insertSignedIntegerAndString(index, CapeString.forCharacter(c)));};P.insertSignedIntegerAndDouble = function(index, c) {return(this.insertSignedIntegerAndString(index, CapeString.forDouble(c)));};P.insertSignedIntegerAndFloat = function(index, c) {return(this.insertSignedIntegerAndString(index, CapeString.forFloat(c)));};P.insertSignedIntegerAndString = function(index, str) {if(str == null) {return(this);}var fp = null;var lp = null;fp = this.builder.substring(0, index);lp = this.builder.substring(index, this.builder.length);this.builder = fp + str + lp;return(this);};P.remove = function(index, _length) {console.log("[cape.StringBuilder.remove] (StringBuilder.sling:250:2): Not implemented.");return(this);return(this);};P.removeLastCharacter = function() {var c = this.count();if(c > 0) {this.remove(c - 1, 1);}return(this);};P.toString = function() {return(this.builder.toString());};var CapeStringDataReceiver = {};CapeStringDataReceiver.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringDataReceiver"] === true);};var CapeDynamicIterator = {};CapeDynamicIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDynamicIterator"] === true);};var CapeStringLineReader = function() {this.iterator = null;};var P = CapeStringLineReader.prototype;P._t = {"CapeStringLineReader" : true,"CapeLineReader" : true};CapeStringLineReader.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringLineReader"] === true);};CapeStringLineReader.NEW = function() {var v = new CapeStringLineReader();return(v.CTOR());};P.CTOR = function() {return(this);};CapeStringLineReader.NEWWithString = function(str) {var v = new CapeStringLineReader();return(v.CTORWithString(str));};P.CTORWithString = function(str) {this.iterator = null;this.iterator = CapeCharacterIteratorForString.forString(str);return(this);};P.readLine = function() {if(this.iterator == null) {return(null);}var sb = CapeStringBuilder.NEW();while(true) {var c = this.iterator.getNextChar();if(c.charCodeAt() < 1) {if(sb.count() < 1) {return(null);}break;}if(c === '\r') {continue;}if(c === '\n') {break;}sb.appendCharacter(c);}if(sb.count() < 1) {return("");}return(sb.toString());};var CapeDateTime = function() {this.timeSeconds = null;this.weekDay = null;this.dayOfMonth = null;this.month = null;this.year = null;this.hours = null;this.minutes = null;this.seconds = null;this.utc = null;this.timezoneOffset = null;};var P = CapeDateTime.prototype;P._t = {"CapeDateTime" : true,"CapeStringObject" : true};CapeDateTime.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDateTime"] === true);};CapeDateTime.NEW = function() {var v = new CapeDateTime();return(v.CTOR());};P.CTOR = function() {this.timezoneOffset = 0;this.utc = false;this.seconds = 0;this.minutes = 0;this.hours = 0;this.year = 0;this.month = 0;this.dayOfMonth = 0;this.weekDay = 0;this.timeSeconds = 0;return(this);};CapeDateTime.forUTCNow = function() {return(CapeDateTime.forTimeSeconds(CapeSystemClock.asUTCSeconds()));};CapeDateTime.forNow = function() {var v = CapeDateTime.forTimeSeconds(CapeSystemClock.asSeconds());v.setTimezoneOffset(CapeSystemClock.getTimezoneOffsetAsSeconds());return(v);};CapeDateTime.forTimeSeconds = function(seconds) {var v = CapeDateTime.NEW();if(!(v != null)) {return(null);}v.setTimeSeconds(seconds);return(v);};CapeDateTime.forTimeValue = function(tv) {if(!(tv != null)) {return(null);}return(CapeDateTime.forTimeSeconds(tv.getSeconds()));};P.onTimeSecondsChanged = function(seconds) {var date = new Date(seconds * 1000);this.year = date.getFullYear();this.month = date.getMonth() + 1;this.dayOfMonth = date.getDate();this.weekDay = date.getDay() + 1;this.hours = date.getHours();this.minutes = date.getMinutes();this.seconds = date.getSeconds();};P.getTimeSeconds = function() {return(this.timeSeconds);};P.setTimeSeconds = function(seconds) {this.timeSeconds = seconds;this.onTimeSecondsChanged(seconds);};P.toStringDate = function(delim) {var sb = CapeStringBuilder.NEW();sb.appendString(CapeString.forIntegerWithPadding(this.getYear(), 4, null));if(delim.charCodeAt() > 0) {sb.appendCharacter(delim);}sb.appendString(CapeString.forIntegerWithPadding(this.getMonth(), 2, null));if(delim.charCodeAt() > 0) {sb.appendCharacter(delim);}sb.appendString(CapeString.forIntegerWithPadding(this.getDayOfMonth(), 2, null));return(sb.toString());};P.toStringTime = function(delim) {var sb = CapeStringBuilder.NEW();sb.appendString(CapeString.forIntegerWithPadding(this.getHours(), 2, null));if(delim.charCodeAt() > 0) {sb.appendCharacter(delim);}sb.appendString(CapeString.forIntegerWithPadding(this.getMinutes(), 2, null));if(delim.charCodeAt() > 0) {sb.appendCharacter(delim);}sb.appendString(CapeString.forIntegerWithPadding(this.getSeconds(), 2, null));return(sb.toString());};P.toStringDateTime = function() {var sb = CapeStringBuilder.NEW();sb.appendString(this.toStringDate('-'));sb.appendString(" ");sb.appendString(this.toStringTime(':'));return(sb.toString());};P.toString = function() {return(this.toStringDateTime());};P.getWeekDay = function() {return(this.weekDay);};P.setWeekDay = function(v) {this.weekDay = v;return(this);};P.getDayOfMonth = function() {return(this.dayOfMonth);};P.setDayOfMonth = function(v) {this.dayOfMonth = v;return(this);};P.getMonth = function() {return(this.month);};P.setMonth = function(v) {this.month = v;return(this);};P.getYear = function() {return(this.year);};P.setYear = function(v) {this.year = v;return(this);};P.getHours = function() {return(this.hours);};P.setHours = function(v) {this.hours = v;return(this);};P.getMinutes = function() {return(this.minutes);};P.setMinutes = function(v) {this.minutes = v;return(this);};P.getSeconds = function() {return(this.seconds);};P.setSeconds = function(v) {this.seconds = v;return(this);};P.getUtc = function() {return(this.utc);};P.setUtc = function(v) {this.utc = v;return(this);};P.getTimezoneOffset = function() {return(this.timezoneOffset);};P.setTimezoneOffset = function(v) {this.timezoneOffset = v;return(this);};var CapeStringSet = function() {this.data = null;};var P = CapeStringSet.prototype;P._t = {"CapeStringSet" : true};CapeStringSet.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeStringSet"] === true);};CapeStringSet.NEW = function() {var v = new CapeStringSet();return(v.CTOR());};P.CTOR = function() {this.data = null;this.data = new Map();return(this);};P.add = function(string) {CapeMap.setValue(this.data, string, CapeBoolean.asObject(true));};P.remove = function(string) {CapeMap.remove(this.data, string);};P.count = function() {return(CapeMap.count(this.data));};P.contains = function(string) {if(CapeMap.getValue(this.data, string) != null) {return(true);}return(false);};P.getAll = function() {var v = CapeMap.getKeys(this.data);return(v);};P.clear = function() {CapeMap.clear(this.data);};var CapeSystemClock = function() {};var P = CapeSystemClock.prototype;P._t = {"CapeSystemClock" : true};CapeSystemClock.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeSystemClock"] === true);};CapeSystemClock.NEW = function() {var v = new CapeSystemClock();return(v.CTOR());};P.CTOR = function() {return(this);};CapeSystemClock.getTimezoneOffsetAsSeconds = function() {var v = 0;v = -(new Date().getTimezoneOffset());return(v * 60);console.log("[cape.SystemClock.getTimezoneOffsetAsSeconds] (SystemClock.sling:59:2): Not implemented");return(0);};CapeSystemClock.asUTCSeconds = function() {console.log("[cape.SystemClock.asUTCSeconds] (SystemClock.sling:74:2): Not implemented");return(0);};CapeSystemClock.asSeconds = function() {var v = 0;v = new Date().getTime() / 1000;return(v);};CapeSystemClock.asTimeValue = function() {var v = CapeTimeValue.NEW();CapeSystemClock.update(v);return(v);};CapeSystemClock.asString = function() {var tv = CapeSystemClock.asTimeValue();return(tv.toString());};CapeSystemClock.update = function(v) {if(!(v != null)) {return;}var ct = new Date().getTime();var ms = ct % 1000;v.setSeconds(parseInt(ct/1000));v.setMicroSeconds(parseInt(ms * 1000));};var CapeTask = {};CapeTask.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeTask"] === true);};var CapeTemporaryDirectory = function() {};var P = CapeTemporaryDirectory.prototype;P._t = {"CapeTemporaryDirectory" : true};CapeTemporaryDirectory.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeTemporaryDirectory"] === true);};CapeTemporaryDirectory.NEW = function() {var v = new CapeTemporaryDirectory();return(v.CTOR());};P.CTOR = function() {return(this);};CapeTemporaryDirectory.create = function() {return(CapeTemporaryDirectory.forDirectory(null));};CapeTemporaryDirectory.forDirectory = function(dir) {var ff = CapeTemporaryFile.forDirectory(dir, null);if(!(ff != null)) {return(null);}ff.remove();ff.createDirectoryRecursive();if(!ff.isDirectory()) {return(null);}return(ff);};var CapeTemporaryFile = function() {};var P = CapeTemporaryFile.prototype;P._t = {"CapeTemporaryFile" : true};CapeTemporaryFile.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeTemporaryFile"] === true);};CapeTemporaryFile.NEW = function() {var v = new CapeTemporaryFile();return(v.CTOR());};P.CTOR = function() {return(this);};CapeTemporaryFile.create = function(extension) {return(CapeTemporaryFile.forDirectory(null, extension));};CapeTemporaryFile.forDirectory = function(dir, extension) {var tmpdir = dir;if(tmpdir == null) {tmpdir = CapeEnvironment.getTemporaryDirectory();}if(tmpdir == null || tmpdir.isDirectory() === false) {return(null);}var v = null;var n = 0;var rnd = CapeRandom.NEW();while(n < 100) {var id = "_tmp_" + (CapeString.forInteger(CapeSystemClock.asSeconds())) + (CapeString.forInteger(rnd.nextInt() % 1000000));if(extension == null || CapeString.getLength(extension) < 1) {id = id + extension;}v = tmpdir.entry(id);if(v.exists() === false) {v.touch();break;}n++;}if(v != null && v.isFile() === false) {v = null;}return(v);};var CapeThread = function() {};var P = CapeThread.prototype;P._t = {"CapeThread" : true};CapeThread.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeThread"] === true);};CapeThread.NEW = function() {var v = new CapeThread();return(v.CTOR());};P.CTOR = function() {return(this);};CapeThread.start = function(runnable) {console.log("[cape.Thread.start] (Thread.sling:184:2): Not implemented");return(false);};var CapeTimeValue = function() {this.seconds = null;this.microSeconds = null;};var P = CapeTimeValue.prototype;P._t = {"CapeTimeValue" : true};CapeTimeValue.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeTimeValue"] === true);};CapeTimeValue.NEW = function() {var v = new CapeTimeValue();return(v.CTOR());};P.CTOR = function() {this.microSeconds = 0;this.seconds = 0;return(this);};CapeTimeValue.forSeconds = function(seconds) {var v = CapeTimeValue.NEW();v.seconds = seconds;return(v);};P.toString = function() {var sb = CapeStringBuilder.NEW();sb.appendString(CapeString.forLongInteger(this.seconds));sb.appendCharacter('.');sb.appendString(CapeString.forLongInteger(this.microSeconds));return(sb.toString());};P.dup = function() {var v = CapeTimeValue.NEW();v.copyFrom(this);return(v);};P.reset = function() {this.seconds = 0;this.microSeconds = 0;};P.copyFrom = function(tv) {this.seconds = tv.seconds;this.microSeconds = tv.microSeconds;};P.set = function(tv) {this.seconds = tv.getSeconds();this.microSeconds = tv.getMicroSeconds();};P.setSeconds = function(value) {this.seconds = value;};P.setMilliSeconds = function(value) {this.microSeconds = value * 1000;};P.setMicroSeconds = function(value) {this.microSeconds = value;};P.addSignedLongIntegerAndSignedLongInteger = function(s, us) {var ts = this.getSeconds() + s;var tus = this.getMicroSeconds() + us;if(tus > 1000000) {ts += tus / 1000000;tus = tus % 1000000;}while(tus < 0) {ts--;tus += 1000000;}var v = CapeTimeValue.NEW();v.seconds = ts;v.microSeconds = tus;return(v);};P.addTimeValue = function(tv) {if(tv == null) {return(this);}return(this.addSignedLongIntegerAndSignedLongInteger(tv.getSeconds(), tv.getMicroSeconds()));};P.subtract = function(tv) {if(tv == null) {return(this);}return(this.addSignedLongIntegerAndSignedLongInteger(-tv.getSeconds(), -tv.getMicroSeconds()));};P.asMicroSeconds = function() {return((this.getSeconds() * 1000000 + this.getMicroSeconds()));};CapeTimeValue.diff = function(a, b) {if(a == null && b == null) {return(0);}if(a == null) {return(b.asMicroSeconds());}if(b == null) {return(a.asMicroSeconds());}var r = (a.seconds - b.seconds) * 1000000 + (a.microSeconds - b.microSeconds);return(r);};CapeTimeValue.diffDouble = function(a, b) {return(CapeTimeValue.diff(a, b) / 1000000.0);};P.getSeconds = function() {return(this.seconds);};P.getMicroSeconds = function() {return(this.microSeconds);};var CapeURL = function() {this.scheme = null;this.username = null;this.password = null;this.host = null;this.port = null;this.path = null;this.fragment = null;this.rawQueryParameters = null;this.queryParameters = null;this.original = null;this.percentOnly = null;this.encodeUnreservedChars = null;};var P = CapeURL.prototype;P._t = {"CapeURL" : true,"CapeStringObject" : true};CapeURL.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeURL"] === true);};CapeURL.NEW = function() {var v = new CapeURL();return(v.CTOR());};P.CTOR = function() {this.encodeUnreservedChars = true;this.percentOnly = false;this.original = null;this.queryParameters = null;this.rawQueryParameters = null;this.fragment = null;this.path = null;this.port = null;this.host = null;this.password = null;this.username = null;this.scheme = null;return(this);};CapeURL.forString = function(str, normalizePath) {var v = CapeURL.NEW();v.parse(str, normalizePath);return(v);};P.dup = function() {var v = CapeURL.NEW();v.setScheme(this.scheme);v.setUsername(this.username);v.setPassword(this.password);v.setHost(this.host);v.setPort(this.port);v.setPath(this.path);v.setFragment(this.fragment);if(this.rawQueryParameters != null) {v.setRawQueryParameters(this.rawQueryParameters.dup());}if(this.queryParameters != null) {v.setQueryParameters(CapeMap.dup(this.queryParameters));}return(v);};P.toString = function() {return(this.toStringDo(true));};P.toStringNohost = function() {return(this.toStringDo(false));};P.toStringDo = function(userhost) {var sb = CapeStringBuilder.NEW();if(userhost) {if(this.scheme != null) {sb.appendString(this.scheme);sb.appendString("://");}if(this.username != null) {sb.appendString(CapeURLEncoder.encode(this.username, false, true));if(this.password != null) {sb.appendCharacter(':');sb.appendString(CapeURLEncoder.encode(this.password, false, true));}sb.appendCharacter('@');}if(this.host != null) {sb.appendString(this.host);if(this.port != null) {sb.appendCharacter(':');sb.appendString(this.port);}}}if(this.path != null) {sb.appendString(CapeString.replaceStringAndCharacterAndCharacter(this.path, ' ', '+'));}if(this.rawQueryParameters != null && this.rawQueryParameters.count() > 0) {var first = true;var it = CapeMap.iterateKeys(this.queryParameters);while(it != null) {var tkey = it.next();var key = null;if(typeof(tkey) === 'string') {key = tkey;}if(key == null) {break;}if(first) {sb.appendCharacter('?');first = false;}else {sb.appendCharacter('&');}sb.appendString(key);var val = CapeMap.getMapAndK(this.queryParameters, key);if(val != null) {sb.appendCharacter('=');sb.appendString(CapeURLEncoder.encode(val, this.percentOnly, this.encodeUnreservedChars));}}}if(this.fragment != null) {sb.appendCharacter('#');sb.appendString(this.fragment);}return(sb.toString());};P.normalizePath = function(path) {if(!(path != null)) {return(null);}var v = CapeStringBuilder.NEW();var comps = CapeString.split(path, '/', 0);if(comps != null) {var n = 0;var m = comps.length;for(n = 0 ; n < m ; n++) {var comp = comps[n];if(comp != null) {if(CapeString.isEmpty(comp)) {;}else if(comp === ".") {;}else if(comp === "..") {var str = v.toString();v.clear();if(str != null) {var slash = CapeString.lastIndexOfWithStringAndCharacterAndSignedInteger(str, '/', -1);if(slash > 0) {v.appendString(CapeString.getSubStringWithStringAndSignedIntegerAndSignedInteger(str, 0, slash));}}}else {v.appendCharacter('/');v.appendString(comp);}}}}if(v.count() < 2) {return("/");}if(CapeString.endsWithWithStringAndString(path, "/")) {v.appendCharacter('/');}return(v.toString());};P.parse = function(astr, doNormalizePath) {this.setOriginal(astr);if(!(astr != null)) {return;}var fsp = CapeString.split(astr, '#', 2);var str = CapeVector.get(fsp, 0);this.fragment = CapeVector.get(fsp, 1);var qsplit = CapeString.split(str, '?', 2);str = CapeVector.get(qsplit, 0);var queryString = CapeVector.get(qsplit, 1);if(CapeString.isEmpty(queryString) === false) {var qss = CapeString.split(queryString, '&', 0);if(qss != null) {var n = 0;var m = qss.length;for(n = 0 ; n < m ; n++) {var qs = qss[n];if(qs != null) {if(!(this.rawQueryParameters != null)) {this.rawQueryParameters = CapeKeyValueList.NEW();}if(!(this.queryParameters != null)) {this.queryParameters = new Map();}if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(qs, '=', 0) < 0) {CapeMap.set(this.queryParameters, qs, null);this.rawQueryParameters.addKAndV(qs, null);continue;}var qsps = CapeString.split(qs, '=', 2);var key = CapeVector.get(qsps, 0);var val = CapeVector.get(qsps, 1);if(CapeString.isEmpty(key) === false) {if(!(val != null)) {val = "";}var udv = CapeURLDecoder.decode(val);CapeMap.set(this.queryParameters, key, udv);this.rawQueryParameters.addKAndV(key, udv);}}}}}var css = CapeString.indexOfWithStringAndStringAndSignedInteger(str, "://", 0);if(css >= 0) {this.scheme = CapeString.subStringWithStringAndSignedIntegerAndSignedInteger(str, 0, css);if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(this.scheme, ':', 0) >= 0 || CapeString.indexOfWithStringAndCharacterAndSignedInteger(this.scheme, '/', 0) >= 0) {this.scheme = null;}else {str = CapeString.subStringWithStringAndSignedInteger(str, css + 3);}}var pp = null;if(CapeString.charAt(str, 0) === '/') {pp = CapeURLDecoder.decode(str);}else {if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(str, '/', 0) >= 0) {var sssplit = CapeString.split(str, '/', 2);str = CapeVector.get(sssplit, 0);pp = CapeVector.get(sssplit, 1);if(!(pp != null)) {pp = "";}if(CapeString.charAt(pp, 0).charCodeAt() !== '/'.charCodeAt()) {pp = CapeString.appendStringAndString("/", pp);}pp = CapeURLDecoder.decode(pp);}if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(str, '@', 0) >= 0) {var asplit = CapeString.split(str, '@', 2);var auth = CapeVector.get(asplit, 0);str = CapeVector.get(asplit, 1);if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(auth, ':', 0) >= 0) {var acsplit = CapeString.split(auth, ':', 2);this.username = CapeURLDecoder.decode(CapeVector.get(acsplit, 0));this.password = CapeURLDecoder.decode(CapeVector.get(acsplit, 1));}else {this.username = auth;}}if(CapeString.indexOfWithStringAndCharacterAndSignedInteger(str, ':', 0) >= 0) {var hcsplit = CapeString.split(str, ':', 2);str = CapeVector.get(hcsplit, 0);this.port = CapeVector.get(hcsplit, 1);}this.host = str;}if(doNormalizePath) {this.path = this.normalizePath(pp);}else {this.path = pp;}};P.getPortInt = function() {if(!(this.port != null)) {return(0);}return(CapeString.toInteger(this.port));};P.getQueryParameter = function(key) {if(!(this.queryParameters != null)) {return(null);}return(CapeMap.getMapAndK(this.queryParameters, key));};P.getScheme = function() {return(this.scheme);};P.setScheme = function(v) {this.scheme = v;return(this);};P.getUsername = function() {return(this.username);};P.setUsername = function(v) {this.username = v;return(this);};P.getPassword = function() {return(this.password);};P.setPassword = function(v) {this.password = v;return(this);};P.getHost = function() {return(this.host);};P.setHost = function(v) {this.host = v;return(this);};P.getPort = function() {return(this.port);};P.setPort = function(v) {this.port = v;return(this);};P.getPath = function() {return(this.path);};P.setPath = function(v) {this.path = v;return(this);};P.getFragment = function() {return(this.fragment);};P.setFragment = function(v) {this.fragment = v;return(this);};P.getRawQueryParameters = function() {return(this.rawQueryParameters);};P.setRawQueryParameters = function(v) {this.rawQueryParameters = v;return(this);};P.getQueryParameters = function() {return(this.queryParameters);};P.setQueryParameters = function(v) {this.queryParameters = v;return(this);};P.getOriginal = function() {return(this.original);};P.setOriginal = function(v) {this.original = v;return(this);};P.getPercentOnly = function() {return(this.percentOnly);};P.setPercentOnly = function(v) {this.percentOnly = v;return(this);};P.getEncodeUnreservedChars = function() {return(this.encodeUnreservedChars);};P.setEncodeUnreservedChars = function(v) {this.encodeUnreservedChars = v;return(this);};var CapeURLDecoder = function() {};var P = CapeURLDecoder.prototype;P._t = {"CapeURLDecoder" : true};CapeURLDecoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeURLDecoder"] === true);};CapeURLDecoder.NEW = function() {var v = new CapeURLDecoder();return(v.CTOR());};P.CTOR = function() {return(this);};CapeURLDecoder.xcharToInteger = function(c) {if(c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {return(c.charCodeAt() - '0'.charCodeAt());}else if(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'f'.charCodeAt()) {return(10 + c.charCodeAt() - 'a'.charCodeAt());}else if(c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'F'.charCodeAt()) {return(10 + c.charCodeAt() - 'A'.charCodeAt());}return(0);};CapeURLDecoder.decode = function(astr) {if(!(astr != null)) {return(null);}var sb = CapeStringBuilder.NEW();var str = CapeString.strip(astr);var it = CapeString.iterate(str);while(it != null) {var x = it.getNextChar();if(x.charCodeAt() < 1) {break;}if(x === '%') {var x1 = it.getNextChar();var x2 = it.getNextChar();if(x1.charCodeAt() > 0 && x2.charCodeAt() > 0) {sb.appendCharacter(String.fromCharCode(CapeURLDecoder.xcharToInteger(x1) * 16 + CapeURLDecoder.xcharToInteger(x2)));}else {break;}}else if(x === '+') {sb.appendCharacter(' ');}else {sb.appendCharacter(x);}}return(sb.toString());};var CapeURLEncoder = function() {};var P = CapeURLEncoder.prototype;P._t = {"CapeURLEncoder" : true};CapeURLEncoder.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeURLEncoder"] === true);};CapeURLEncoder.NEW = function() {var v = new CapeURLEncoder();return(v.CTOR());};P.CTOR = function() {return(this);};CapeURLEncoder.encode = function(str, percentOnly, encodeUnreservedChars) {if(!(str != null)) {return(null);}var buffer = CapeString.toUTF8Buffer(str);var sb = CapeStringBuilder.NEW();for(var i = 0 ; i < buffer.byteLength ; i++) {var c = String.fromCharCode(CapeBuffer.getByte(buffer, i));if(c.charCodeAt() < 1) {break;}if(c.charCodeAt() >= 'a'.charCodeAt() && c.charCodeAt() <= 'z'.charCodeAt() || c.charCodeAt() >= 'A'.charCodeAt() && c.charCodeAt() <= 'Z'.charCodeAt() || c.charCodeAt() >= '0'.charCodeAt() && c.charCodeAt() <= '9'.charCodeAt()) {sb.appendCharacter(c);}else if((c === '-' || c === '.' || c === '_' || c === '~') && encodeUnreservedChars === false) {sb.appendCharacter(c);}else if(c === ' ' && percentOnly === false) {sb.appendCharacter('+');}else {sb.appendCharacter('%');sb.appendString(CapeString.forIntegerHex(c.charCodeAt() & 255, 0));}}return(sb.toString());};var CapeVector = function() {};var P = CapeVector.prototype;P._t = {"CapeVector" : true};CapeVector.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeVector"] === true);};CapeVector.NEW = function() {var v = new CapeVector();return(v.CTOR());};P.CTOR = function() {return(this);};CapeVector.asVector = function(obj) {var vo = (CapeVectorObject.IS_INSTANCE(obj) ? obj : null);if(!(vo != null)) {return(null);}return(vo.toVector());};CapeVector.forIterator = function(iterator) {if(!(iterator != null)) {return(null);}var v = new Array();while(true) {var o = iterator.next();if(o == null) {break;}v.push(o);}return(v);};CapeVector.forArray = function(array) {if(!(array != null)) {return(null);}var v = new Array();for(var n = 0 ; n < array.length ; n++) {v.push(array[n]);}return(v);};CapeVector.contains = function(vector, object) {if(!(vector != null)) {return(false);}console.log("[cape.Vector.contains] (Vector.sling:69:2): Not implemented");return(false);};CapeVector.append = function(vector, object) {vector.push(object);};CapeVector.prepend = function(vector, object) {CapeVector.insert(vector, object, 0);};CapeVector.insert = function(vector, object, index) {vector.splice(index, 0, object);};CapeVector.setCapacity = function(vector, capacity) {if(!(vector != null)) {return;}};CapeVector.getSize = function(vector) {if(vector == null) {return(0);}return(vector.length);};CapeVector.getAt = function(vector, index) {return(CapeVector.get(vector, index));};CapeVector.get = function(vector, index) {if(index < 0 || index >= CapeVector.getSize(vector)) {return(null);}return(vector[index]);};CapeVector.getFirst = function(vector) {return(CapeVector.get(vector, 0));};CapeVector.getLast = function(vector) {return(CapeVector.get(vector, CapeVector.getSize(vector) - 1));};CapeVector.set = function(vector, index, val) {if(index < 0 || index >= CapeVector.getSize(vector)) {return;}vector.splice(index, 1, val);};CapeVector.remove = function(vector, index) {if(index < 0 || index >= CapeVector.getSize(vector)) {return(null);}return(vector.splice(index, 1));};CapeVector.popFirst = function(vector) {if(vector == null || CapeVector.getSize(vector) < 1) {return(null);}var v = CapeVector.get(vector, 0);CapeVector.removeFirst(vector);return(v);};CapeVector.removeFirst = function(vector) {if(vector == null || CapeVector.getSize(vector) < 1) {return;}CapeVector.remove(vector, 0);};CapeVector.popLast = function(vector) {if(vector == null || CapeVector.getSize(vector) < 1) {return(null);}var v = CapeVector.get(vector, CapeVector.getSize(vector) - 1);CapeVector.removeLast(vector);return(v);};CapeVector.removeLast = function(vector) {if(vector == null) {return;}var sz = CapeVector.getSize(vector);if(sz < 1) {return;}CapeVector.remove(vector, sz - 1);};CapeVector.removeValue = function(vector, value) {var n = 0;for(n = 0 ; n < vector.length ; n++) {if (!Object.is) {if(vector[n] === value) {this.remove(vector, n);return(n);}}else {if(Object.is(vector[n], value)) {this.remove(vector, n);return(n);}}}return(-1);};CapeVector.clear = function(vector) {vector.splice(0, vector.length);};CapeVector.isEmpty = function(vector) {return(vector == null || vector.length < 1);};CapeVector.isNotEmpty = function(vector) {return(!CapeVector.isEmpty(vector));};CapeVector.removeRange = function(vector, index, count) {vector.splice(index, count);};CapeVector.iterate = function(vector) {return(CapeVector.VectorIterator.NEWWithVectorTAndSignedInteger(vector, 1));};CapeVector.iterateReverse = function(vector) {return(CapeVector.VectorIterator.NEWWithVectorTAndSignedInteger(vector, -1));};CapeVector.sort = function(vector, comparer) {if(!(vector != null)) {return;}console.log("[cape.Vector.sort] (Vector.sling:450:2): Not implemented");};CapeVector.sortReverse = function(vector, comparer) {var cc = comparer;CapeVector.sort(vector, function(a, b){return(-cc(a, b));}.bind(this));};CapeVector.sortAsStrings = function(vector) {CapeVector.sort(vector, function(a, b){return(CapeString.compare(CapeString.asStringWithObject(a), CapeString.asStringWithObject(b)));}.bind(this));};CapeVector.sortAsStringsReverse = function(vector) {CapeVector.sortReverse(vector, function(a, b){return(CapeString.compare(CapeString.asStringWithObject(a), CapeString.asStringWithObject(b)));}.bind(this));};CapeVector.reverse = function(vector) {if(!(vector != null)) {return;}var a = 0;var b = CapeVector.getSize(vector) - 1;while(a < b) {var t = CapeVector.getAt(vector, b);CapeVector.set(vector, b, CapeVector.getAt(vector, a));CapeVector.set(vector, a, t);a++;b--;}};var P2 = P;CapeVector.VectorIterator = function() {this.vector = null;this.index = null;this.increment = null;};var P = CapeVector.VectorIterator.prototype;P._t = {"CapeVector.VectorIterator" : true,"CapeIterator" : true};CapeVector.VectorIterator.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeVector.VectorIterator"] === true);};CapeVector.VectorIterator.NEW = function() {var v = new CapeVector.VectorIterator();return(v.CTOR());};P.CTOR = function() {return(this);};CapeVector.VectorIterator.NEWWithVectorTAndSignedInteger = function(vector, increment) {var v = new CapeVector.VectorIterator();return(v.CTORWithVectorTAndSignedInteger(vector, increment));};P.CTORWithVectorTAndSignedInteger = function(vector, increment) {this.increment = 1;this.index = 0;this.vector = null;this.vector = vector;this.increment = increment;if(increment < 0 && vector != null) {this.index = vector.length - 1;}return(this);};P.next = function() {if(this.vector == null) {return(null);}if(this.index < 0 || this.index >= this.vector.length) {return(null);}var v = this.vector[this.index];this.index += this.increment;return(v);};P = P2;P2 = null;var CapeDynamicVector = function() {this.vector = null;};var P = CapeDynamicVector.prototype;P._t = {"CapeDynamicVector" : true,"CapeDuplicateable" : true,"CapeIterateable" : true,"CapeVectorObject" : true,"CapeObjectWithSize" : true};CapeDynamicVector.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeDynamicVector"] === true);};CapeDynamicVector.asDynamicVector = function(object) {if(!(object != null)) {return(null);}if(CapeDynamicVector.IS_INSTANCE(object)) {return(object);}if(object instanceof Array) {return(CapeDynamicVector.forObjectVector(object));}return(null);};CapeDynamicVector.forStringVector = function(vector) {var v = CapeDynamicVector.NEW();if(vector != null) {var n = 0;var m = vector.length;for(n = 0 ; n < m ; n++) {var item = vector[n];if(item != null) {v.appendObject(item);}}}return(v);};CapeDynamicVector.forObjectVector = function(vector) {var v = CapeDynamicVector.NEW();if(vector != null) {var n = 0;var m = vector.length;for(n = 0 ; n < m ; n++) {var item = vector[n];if(item != null) {v.appendObject(item);}}}return(v);};CapeDynamicVector.forArray = function(array) {var v = CapeDynamicVector.NEW();if(array != null) {var n = 0;var m = array.length;for(n = 0 ; n < m ; n++) {var item = array[n];if(item != null) {v.appendObject(item);}}}return(v);};CapeDynamicVector.NEW = function() {var v = new CapeDynamicVector();return(v.CTOR());};P.CTOR = function() {this.vector = null;this.vector = new Array();return(this);};P.toVector = function() {return(this.vector);};P.toVectorOfStrings = function() {var v = new Array();if(this.vector != null) {var n = 0;var m = this.vector.length;for(n = 0 ; n < m ; n++) {var o = this.vector[n];if(o != null) {var s = CapeString.asStringWithObject(o);if(s != null) {v.push(s);}}}}return(v);};P.toVectorOfDynamicMaps = function() {var v = new Array();if(this.vector != null) {var n = 0;var m = this.vector.length;for(n = 0 ; n < m ; n++) {var to = this.vector[n];var o = null;if(CapeDynamicMap.IS_INSTANCE(to)) {o = to;}if(o != null) {v.push(o);}}}return(v);};P.duplicate = function() {var v = CapeDynamicVector.NEW();var it = this.iterate();while(it != null) {var o = it.next();if(o == null) {break;}v.appendObject(o);}return(v);};P.mergeDynamicVector = function(dynamicVector) {if(!(dynamicVector != null) || dynamicVector.getSize() < 1) {return(this);}return(this.mergeVector(dynamicVector.toVector()));};P.mergeVector = function(vector) {if(vector != null) {var n = 0;var m = vector.length;for(n = 0 ; n < m ; n++) {var item = vector[n];if(item != null) {this.appendObject(item);}}}return(this);};P.appendObject = function(object) {this.vector.push(object);return(this);};P.appendSignedInteger = function(value) {this.vector.push(CapeInteger.asObject(value));return(this);};P.appendSignedLongInteger = function(value) {this.vector.push(CapeLongInteger.asObject(value));return(this);};P.appendBoolean = function(value) {this.vector.push(CapeBoolean.asObject(value));return(this);};P.appendDouble = function(value) {this.vector.push(CapeDouble.asObject(value));return(this);};P.setSignedIntegerAndObject = function(index, object) {CapeVector.set(this.vector, index, object);return(this);};P.setSignedIntegerAndSignedInteger = function(index, value) {CapeVector.set(this.vector, index, CapeInteger.asObject(value));return(this);};P.setSignedIntegerAndSignedLongInteger = function(index, value) {CapeVector.set(this.vector, index, CapeLongInteger.asObject(value));return(this);};P.setSignedIntegerAndBoolean = function(index, value) {CapeVector.set(this.vector, index, CapeBoolean.asObject(value));return(this);};P.setSignedIntegerAndDouble = function(index, value) {CapeVector.set(this.vector, index, CapeDouble.asObject(value));return(this);};P.get = function(index) {return(CapeVector.getAt(this.vector, index));};P.getString = function(index, defval) {var v = CapeString.asStringWithObject(this.get(index));if(v == null) {return(defval);}return(v);};P.getInteger = function(index, defval) {var vv = this.get(index);if(vv == null) {return(defval);}return(CapeInteger.asIntegerWithObject(vv));};P.getLongInteger = function(index, defval) {var vv = this.get(index);if(vv == null) {return(defval);}return(CapeLongInteger.asLongWithObject(vv));};P.getBoolean = function(index, defval) {var vv = this.get(index);if(vv == null) {return(defval);}return(CapeBoolean.asBoolean(vv));};P.getDouble = function(index, defval) {var vv = this.get(index);if(vv == null) {return(defval);}return(CapeDouble.asDouble(vv));};CapeDynamicVector.objectAsCapeDynamicMap = function(o) {if(CapeDynamicMap.IS_INSTANCE(o)) {return(o);}return(null);};P.getMap = function(index) {return(CapeDynamicVector.objectAsCapeDynamicMap(this.get(index)));};CapeDynamicVector.objectAsCapeDynamicVector = function(o) {if(CapeDynamicVector.IS_INSTANCE(o)) {return(o);}return(null);};P.getVector = function(index) {return(CapeDynamicVector.objectAsCapeDynamicVector(this.get(index)));};P.iterate = function() {var v = CapeVector.iterate(this.vector);return(v);};P.iterateReverse = function() {var v = CapeVector.iterateReverse(this.vector);return(v);};P.remove = function(index) {CapeVector.remove(this.vector, index);};P.removeValue = function(value) {CapeVector.removeValue(this.vector, value);};P.clear = function() {CapeVector.clear(this.vector);};P.contains = function(object) {return(CapeVector.contains(this.vector, object));};P.getSize = function() {return(CapeVector.getSize(this.vector));};P.setCapacity = function(capacity) {CapeVector.setCapacity(this.vector, capacity);};P.sort = function() {CapeVector.sort(this.vector, function(a, b){return(CapeString.compare(CapeString.asStringWithObject(a), CapeString.asStringWithObject(b)));}.bind(this));};P.sortFunctionSignedIntegerObjectObject = function(comparer) {if(comparer == null) {this.sort();return;}CapeVector.sort(this.vector, comparer);};P.sortReverse = function() {CapeVector.sortReverse(this.vector, function(a, b){return(CapeString.compare(CapeString.asStringWithObject(a), CapeString.asStringWithObject(b)));}.bind(this));};P.sortReverseWithFunctionSignedIntegerObjectObject = function(comparer) {if(comparer == null) {this.sortReverse();return;}CapeVector.sortReverse(this.vector, comparer);};var CapeBufferWriter = function() {this.buffer = null;this.pos = null;};var P = CapeBufferWriter.prototype;P._t = {"CapeBufferWriter" : true,"CapeWriter" : true};CapeBufferWriter.IS_INSTANCE = function(o) {return(o != null && o._t != null && o._t["CapeBufferWriter"] === true);};CapeBufferWriter.NEW = function() {var v = new CapeBufferWriter();return(v.CTOR());};P.CTOR = function() {this.pos = 0;this.buffer = null;return(this);};CapeBufferWriter.forBuffer = function(buf) {var v = CapeBufferWriter.NEW();v.buffer = buf;return(v);};P.getBufferSize = function() {return(CapeBuffer.getSize(this.buffer));};P.getBufferPos = function() {return(0);};P.getBuffer = function() {return(this.buffer);};P.write = function(src, ssize) {if(src == null) {return(0);}var size = ssize;if(size < 0) {size = CapeBuffer.getSize(src);}if(size < 1) {return(0);}if(this.buffer == null) {this.buffer = new ArrayBuffer(size);if(this.buffer == null) {return(0);}CapeBuffer.copyFrom(this.buffer, src, 0, 0, size);this.pos = size;}else if(this.pos + size <= CapeBuffer.getSize(this.buffer)) {CapeBuffer.copyFrom(this.buffer, src, 0, this.pos, size);this.pos += size;}else {var nb = CapeBuffer.resize(this.buffer, this.pos + size);if(nb == null) {return(0);}this.buffer = nb;CapeBuffer.copyFrom(this.buffer, src, 0, this.pos, size);this.pos += size;}return(size);};